{"version":3,"sources":["scalePage.js","reducer.js","StateProvider.js","SidebarChat.js","firebase.js","useFetchData.js","useRoomsData.js","notification.mp3","icon/pencil.svg","Sidebar.js","icon/calendar.svg","icon/send.svg","ImgPreview.js","VidPreview.js","DocPreview.js","ImagePreview.js","VideoPreview.js","icon/voice-rec-footer.svg","icon/document.svg","icon/health-rec.svg","icon/performance.svg","icon/camera-pic.svg","icon/paper-clip.svg","recorder.js","ChatFooter.js","icon/speaker.png","icon/emoji.png","AudioPlayer.js","message_sent.mp3","message_received.mp3","Chat.js","icon/voice-rec-header.png","icon/message-notif.png","icon/bell-notif.png","icon/phone-call.png","icon/video-call.png","Login.js","App.js","setOnlineStatus.js","serviceWorkerRegistration.js","index.js"],"names":["scalePage","window","innerHeight","innerWidth","currentRatio","ratio","width","height","transform","initialState","user","path","pathID","dispatchMessages","audioID","roomsData","page","actionTypes","SET_USER","SET_MESSAGES","reducer","state","action","type","id","update","messages","length","limitReached","firstMessageID","audio","undefined","arr","s","isSame","i","slice","newMessages","f","updatedMessages","roomID","e","findIndex","cur","data","newRoomsData","lastMessageListener","onlineStatelistener","dataType","StateContext","createContext","StateProvider","children","Provider","value","useReducer","useStateValue","useContext","SidebarChat","dataList","title","fetchList","dispatch","useState","scrollFetch","setScrollFetch","list","setList","sidebarChatContainer","useRef","useEffect","a","parseInt","current","scrollTop","scrollHeight","offsetHeight","addEventListener","clean","removeEventListener","setTimeout","Array","from","document","querySelectorAll","forEach","classList","remove","onlineState","lastMessage","push","className","to","pathname","photoURL","name","userID","Avatar","style","src","dangerouslySetInnerHTML","__html","_highlightResult","marginBottom","message","Photo","MicRounded","time","unreadMessages","ref","CircularProgress","SearchOutlined","CancelOutlined","memo","firebaseApp","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","enablePersistence","firestore","db","db2","database","auth","provider","GoogleAuthProvider","provider2","FacebookAuthProvider","createTimestamp","FieldValue","serverTimestamp","createTimestamp2","ServerValue","TIMESTAMP","messaging","navigator","fieldIncrement","increment","storage","arrayUnion","audioStorage","videoStorage","documentStorage","setFirebaseLoaded","useFetchData","limitNumber","get","initCount","snapHandler","limit","dataUnsub","setData","snapCount","fetchData","timeout","getData","onSnapshot","snapshot","docs","clearTimeout","useRoomsData","initRoomsData","collection","doc","onlineStateListener","index","algoliasearch","initIndex","Sidebar","props","Nav","searchList","setSearchList","searchInput","setSearchInput","menu","setMenu","mounted","setMounted","setRoomsData","history","useHistory","notification","Audio","prevUnreadMessages","chats","classSelected","onClick","click","NavLink","orderBy","snap","map","rooms","fetchRooms","uid","users","fetchUsers","querySelector","blur","preventDefault","search","result","hits","objectID","play","add","unsub1","unsub2","minHeight","IconButton","pwa","console","log","prompt","GetAppRounded","roomName","timestamp","signOut","set","merge","replace","onChange","target","placeholder","display","activeClassName","Object","assign","arguments","source","key","prototype","hasOwnProperty","call","apply","this","excluded","sourceKeys","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgCalendar","_ref","svgRef","titleId","viewBox","fill","xmlns","clipPath","d","imageSRC","mediaPreview","closeImage","setHeight","alt","videoSRC","closeVideo","controls","fileSRC","closeFile","class","imagePreview","animState","loaded","setLoaded","animW","animH","el","imageRatio","imgH","imgW","backgroundColor","borderRadius","transformOrigin","left","top","imgStyle","minWidth","createPortal","toggle","goBack","onLoad","videoPreview","videoRatio","SvgSend","SvgVoiceRecFooter","SvgDocument","_path6","_path7","_path8","_path9","SvgHealthRec","SvgPerformance","xmlnsXlink","patternContentUnits","xlinkHref","SvgCameraPic","SvgPaperClip","record","Promise","resolve","mediaDevices","getUserMedia","then","stream","mediaRecorder","MediaRecorder","audioChunks","event","start","stop","audioName","uuidv4","audioFile","File","audioUrl","URL","createObjectURL","wait","emojiPicker","input","handleFocus","change","setInput","sendMessage","setFocus","image","video","file","focus","token","setAudioID","handleImg","handleVideo","handleFile","recording","setRecording","recordingTimer","setRecordingTimer","recordingEl","inputRef","timerInterval","emojiPickerState","SetEmojiPicker","setOpen","emoji","onSelect","native","useSpeechRecognition","onResult","listen","listening","sendAudio","timer","seen","displayName","Date","toUTCString","audioPlayed","child","put","getDownloadURL","url","body","onLine","recorder","alert","stopRecording","clearInterval","stopped","opacity","pad","val","valString","now","setInterval","delta","totalSeconds","Math","floor","btnIcons","CSSTransition","in","enter","exit","classNames","closeHandler","useCallback","ClickAwayListener","onClickAway","onBlur","currentTarget","contains","relatedTarget","tooltip","onMouseDown","onMouseUp","accept","capture","color","cursor","htmlFor","AddPhotoAlternate","role","aria-label","onKeyPress","onFocus","for","files","duration","CancelRounded","CheckCircleRounded","sender","isPlaying","setIsPlaying","mediaLoaded","setMediaLoaded","metadataLoaded","setMetadataLoaded","error","setError","sliderValue","setSliderValue","sliderPlayedWidth","setSliderPlayedWidth","setDuration","totalDuration","interval","uploading","seekUpdate","seekPosition","isNaN","currentTime","currentMinutes","currentSeconds","getCurrentTime","load","media","reject","onloadedmetadata","Number","MAX_SAFE_INTEGER","ontimeupdate","durationMinutes","durationSeconds","pause","min","max","seekto","Chat","b","useParams","location","useLocation","match","useRouteMatch","setImagePreview","setVideoPreview","setMessages","openHeaderMenu","setOpenHeaderMenu","deletingRoom","setDeletingRoom","deletingMessage","setDeletingMessage","setToken","setState","setSeen","typing","setTyping","videoSrc","setVideoSRC","imgSrc","setImgSRC","fileSrc","setFileSRC","setImage","setVideo","setFile","writeState","setWriteState","setRatio","scrollArrow","setScrollArrow","clientWidth","setClientWidth","firstRender","setFirstRender","sendAnim","setSendAnim","Boolean","setLimitReached","chatBodyRef","lastMessageRef","chatBodyContainer","chatAnim","prevMessages","prevScrollHeight","paginating","paginating2","paginateLoader","setPaginateLoader","messageSentAudio","audio2","messageReceivedAudio","audio1","mediaSnap","mediaChecked","speak","useSpeechSynthesis","isCopied","setIsCopied","searchMessage","setSearchMessage","filteredMessage","setFilteredMessage","messageResults","filter","res","toLowerCase","includes","animation","outerHeight","getComputedStyle","marginTop","inputText","videoToUpload","fileToUpload","imageToUpload","roomInfo","split","imageName","videoName","fileName","messageToSend","imageUrl","videoUrl","fileUrl","Compressor","quality","maxWidth","success","deleteRoom","room","fetchedMessages","fetchedAudios","fecthedImages","fetchedVideos","fetchedFiles","usersChats","Set","all","delete","img","vid","aud","userChat","fetchMessages","toDate","reverse","paginate","listenToImg","docID","listenToVideo","listenToFile","listenToAudio","useLayoutEffect","nodeArr","lastMHeight","node","anime","targets","easing","complete","scrollChatBody","x","videoPlayed","init","empty","clientHeight","h","z","round","onCopyText","widthRatio","ArrowBack","aria-controls","aria-haspopup","MoreVert","Menu","anchorEl","open","onClose","keepMounted","MenuItem","messageArr","deleteMessage","catch","trigger","position","text","clipboard","writeText","onCopy","parentNode","obj","getBoundingClientRect","offsetWidth","clickImagePreview","videoW","videoH","clickVideoPreview","href","appear","DoneAllRounded","reader","FileReader","onload","readAsDataURL","unmountOnExit","ArrowDownward","TransitionGroup","component","Transition","Login","Button","signInWithRedirect","App","loader","setLoader","pwaEvent","setPwaEvent","firebaseLoaded","updating","setUpdating","checkingVersion","setCheckingVersion","setChats","chatsFetched","setChatsFetched","menus","loadFirebase","onAuthStateChanged","authUser","requestPermission","getToken","onMessage","payload","version","previousVersion","localStorage","getItem","setItem","includeMetadataChanges","docChanges","metadata","fromCache","every","isOfflineForDatabase","last_changed","isOnlineForDatabase","userStatusFirestoreRef","userStatusDatabaseRef","isOfflineForFirestore","isOnlineForFirestore","on","onDisconnect","setOnlineStatus","find","isLocalhost","hostname","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","constraints","webkitGetUserMedia","mozGetUserMedia","Error","ReactDOM","render","StrictMode","getElementById","process","origin","fetch","headers","response","contentType","status","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.fb5b0995.chunk.js","sourcesContent":["export default function scalePage() {\n    if (window.innerHeight > 768 && window.innerWidth > 1366) {\n        const currentRatio = window.innerHeight / window.innerWidth;\n        const ratio = 768 / 1366;\n        if (ratio < currentRatio) {\n            return {\n                width: 1366,\n                height: window.innerHeight * (1366 / window.innerWidth),\n                transform: `scale(${window.innerWidth / 1366})`\n            };\n        } else if (ratio > currentRatio) {\n            return {\n                width: window.innerWidth * (768 / window.innerHeight),\n                height: 768,\n                transform: `scale(${window.innerHeight / 768})`\n            };\n        } else {\n            return {\n                width: 1366,\n                height: 768,\n                transform: `scale(${window.innerHeight / 768})`\n            };\n        };\n    };\n    return {\n        width: window.innerWidth,\n        height: window.innerHeight,\n        transform: `scale(1)`\n    };\n};","import scalePage from \"./scalePage\";\n\nexport const initialState = {\n    user: null,\n    path: \"\",\n    pathID: \"\",\n    dispatchMessages: {},\n    audioID: null,\n    roomsData: {},\n    page: scalePage()\n}\n\nexport const  actionTypes = {\n    SET_USER: \"SET_USER\",\n    SET_MESSAGES : \"SET_MESSAGES\",\n}\n\nconst reducer = (state, action) => {\n    //console.log(action)\n    switch (action.type) {\n        case \"set_scale_page\" :\n            return {\n                ...state,\n                page: action.page\n            }\n        case actionTypes.SET_USER :\n            return {\n                ...state,\n                user: action.user\n            }\n        case \"SET_PATH\" :\n            return {\n                ...state,\n                path: action.path\n            }\n        case \"set_path_id\" :\n            return {\n                ...state,\n                pathID: action.id\n            }\n        case actionTypes.SET_MESSAGES :\n            const dispatchMessages = state.dispatchMessages;\n            //console.log(\"dispatch messages: \", dispatchMessages[action.id]);\n            //console.log(\"action messages: \", action.messages);\n            if (action.update) {\n                //console.log(\"updating\");\n                if (dispatchMessages[action.id].messages) {\n                    //console.log(\"messages exist\")\n                    if (dispatchMessages[action.id].messages.length === 0) {\n                        //console.log(\"messages length is 0\");\n                        if (action.messages.length > 0) {\n                            //console.log(\"action messages length greater than 0\");\n                            dispatchMessages[action.id] = {\n                                messages: action.messages, \n                                limitReached: dispatchMessages[action.id].limitReached,\n                                firstMessageID: dispatchMessages[action.id].firstMessageID,\n                                audio: state.pathID === action.id,\n                            };\n                        }  \n                    } else if (dispatchMessages[action.id].messages.length > 0 && action.messages.length === 0) {\n                        //console.log(\"messages were deleted\");\n                        dispatchMessages[action.id] = {\n                            messages: [], \n                            limitReached: true,\n                            firstMessageID: undefined,\n                            audio: false,\n                        };\n                    } else {\n                        const s = dispatchMessages[action.id].messages.length - action.messages.length;\n                        var isSame = s === 0 ? false : true;\n                        if (s >= 0) {\n                            //console.log(\"difference greater or equal than 0\");\n                            for (var i = 0; i < action.messages.length - 2; i++) {\n                                //console.log(\"iterating at: \", i);\n                                //console.log(\"action message: \", action.messages[i]);\n                                //console.log(\"dispatch message: \", dispatchMessages[action.id].messages[s + i + 1]);\n                                isSame = action.messages[i].id === dispatchMessages[action.id].messages[s + i + 1].id;\n                                if (!isSame) {\n                                    //console.log(\"it's not the same\");\n                                    break;\n                                }\n                            }\n                        } else {\n                            //console.log(\"difference is less than 0\");\n                            for (i = 0; i < dispatchMessages[action.id].messages.length - 2; i++) {\n                                isSame = action.messages[i].id === dispatchMessages[action.id].messages[i].id;\n                                if (!isSame) {\n                                    //console.log(\"it's not the same\");\n                                    break;\n                                };\n                            };\n                        };\n                        if (isSame) {\n                            //console.log(\"it's the same\");\n                            //console.log(\"last action message: \", action.messages[action.messages.length - 1]);\n                            //console.log(\"s: \", s);\n                            var arr;\n                            if (s >= 0) {\n                                //console.log(\"sliced: \", dispatchMessages[action.id].messages.slice(0, s + 1));\n                                arr = [...dispatchMessages[action.id].messages.slice(0, s + 1), ...action.messages];\n                            } else {\n                                //console.log(\"sliced: \", dispatchMessages[action.id].messages.slice(0, -s + 1));\n                                arr = [...action.messages]; \n                            }\n                            dispatchMessages[action.id] = {\n                                messages: arr, \n                                limitReached: dispatchMessages[action.id].limitReached,\n                                firstMessageID: dispatchMessages[action.id].firstMessageID,\n                                audio: state.pathID === action.id && isSame,\n                            };\n                        };\n                    };\n                };\n                //console.log(\"returned dispatchMessages from updating: \", dispatchMessages[action.id]);\n                return {\n                    ...state,\n                    dispatchMessages,\n                };\n            };\n            //console.log(\"not updating\");\n            dispatchMessages[action.id] = {\n                messages: action.messages, \n                limitReached: dispatchMessages[action.id].firstMessageID === \"no id\" ? true : action.messages[0]?.id === dispatchMessages[action.id].firstMessageID,\n                firstMessageID: dispatchMessages[action.id].firstMessageID,\n                audio: false\n            }\n            return {\n                ...state,\n                dispatchMessages\n            }\n        case \"set_audio_false\" : \n            const newMessages = state.dispatchMessages;\n            newMessages[action.id] = {\n                ...newMessages[action.id],\n                audio: false\n            };\n            return {\n                ...state,\n                dispatchMessages: newMessages\n            };\n        case \"set_firstMessage\" :\n            const s = state.dispatchMessages;\n            if (s[action.id]) {\n                s[action.id].firstMessageID = action.firstMessageID;\n            } else {\n                s[action.id] = {\n                    firstMessageID: action.firstMessageID\n                };\n            };\n            return {\n                ...state,\n                dispatchMessages: s\n            };\n        case \"update_media\" :\n            const f = state.dispatchMessages;\n            const updatedMessages = f[action.roomID].messages;\n            const e = updatedMessages.findIndex(cur => cur.id === action.id);\n            updatedMessages[e] = {\n                ...updatedMessages[e],\n                ...action.data\n            };\n            //console.log(\"updated media: \", f[action.roomID]);\n            f[action.roomID] = {\n                messages: updatedMessages, \n                limitReached: f[action.roomID].limitReached,\n                firstMessageID: f[action.roomID].firstMessageID\n            }\n            return {\n                ...state,\n                dispatchMessages: f,\n            }\n        case \"add_rooms_data\" :\n            const newRoomsData = {...state.roomsData};\n            //console.log(\"rooms data: \", state.roomsData);\n            newRoomsData[action.roomID] = {\n                lastMessageListener: action.lastMessageListener,\n                onlineStatelistener: action.onlineStatelistener,\n                roomID: action.roomID\n            }\n            return {\n                ...state,\n                roomsData: newRoomsData\n            }\n        case \"update_rooms_data\" :\n            const roomsData = {...state.roomsData};\n            //console.log(\"rooms data: \", state.roomsData);\n            if (action.data !== roomsData[action.roomID][action.dataType]) {\n                roomsData[action.roomID] = {\n                    ...roomsData[action.roomID],\n                    [action.dataType] : action.data\n                }\n                return {\n                    ...state,\n                    roomsData: roomsData\n                }\n            }\n            return state;\n        default: \n            return state;\n    }\n}\n\nexport default reducer;","import React, {createContext, useReducer, useContext} from \"react\";\nimport { actionTypes } from './reducer'\n\nexport const StateContext = createContext();\n\nexport const StateProvider = ({ reducer, initialState, children}) => (\n    <StateContext.Provider value={[...useReducer(reducer, initialState), actionTypes]}>\n        {children}\n    </StateContext.Provider>\n);\n\nexport const useStateValue = () => useContext(StateContext);","import {useEffect,  memo, useRef, useState} from 'react';\nimport { Avatar } from '@material-ui/core';\nimport { CancelOutlined, SearchOutlined, Photo, MicRounded } from '@material-ui/icons';\nimport './SidebarChat.css';\nimport { Link } from 'react-router-dom';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { useStateValue } from './StateProvider';\nimport MovieIcon from '@material-ui/icons/Movie';\n\n//window\nfunction SidebarChat({ dataList, title, path, fetchList}) {\n    const [{roomsData, page, pathID}, dispatch] = useStateValue();\n    const [scrollFetch, setScrollFetch] = useState(false);\n    const [list, setList] = useState(null);\n    const sidebarChatContainer = useRef();\n\n    useEffect(() => {\n        var a = null;\n        if (fetchList) {\n            a = function () {\n                if (parseInt(sidebarChatContainer.current.scrollTop) === sidebarChatContainer.current.scrollHeight - sidebarChatContainer.current.offsetHeight) {\n                    fetchList(setScrollFetch);\n                };\n            };\n            if (dataList?.length > 0) {\n                sidebarChatContainer.current.addEventListener(\"scroll\", a);\n            };\n        };\n        const clean = sidebarChatContainer.current;\n        return () => {\n            if (a) {\n                //console.log(\"removing event\");\n                clean.removeEventListener(\"scroll\", a);\n                \n            };\n        };\n    }, [dataList, fetchList]);\n    \n    useEffect(() => {\n        //console.log(dataList);\n        //console.log(list)\n        if (dataList?.length === list?.length) {\n            setTimeout(() => {\n                Array.from(document.querySelectorAll('.animate')).forEach((cur,i) => {\n                    setTimeout(() => {\n                        cur.classList.remove(\"animate\");\n                    }, 100 * i);\n                });\n            }, 10);\n        };\n    }, [dataList, list]);\n\n    useEffect(() => {\n        if (dataList) {\n            const arr = [];\n            dataList.forEach(data => {\n                //console.log(\"data: \", data);\n                //console.log(\"rooms data: \", roomsData[data.id]);\n                if (data) {\n                    const onlineState = roomsData[data.id]?.onlineState ? roomsData[data.id].onlineState : data.state;\n                    const lastMessage = title === \"Search Result\" ? null : roomsData[data.id]?.lastMessage ? roomsData[data.id].lastMessage : data.lastMessage;\n                    if (title === \"Rooms\" || title === \"Search Result\" || title === \"Chats\" && roomsData[data.id].lastMessage || title !== \"Chats\" && roomsData[data.id]) {\n                        arr.push(<Link className=\"link\" key={data.id} to={{\n                            pathname: path ? `${path}/room/${data.id}` : `/room/${data.id}`,\n                            state: {\n                                photoURL: `${data.photoURL ? data.photoURL : `https://avatars.dicebear.com/api/human/${data.id}.svg`}`,\n                                name: data.name,\n                                userID: data.userID ? data.userID : null,\n                                state: data.state\n                            }\n                        }} >\n                            <div \n                                className={`sidebar__chat animate`}\n                            >\n                                <div className=\"avatar__container\">\n                                    <Avatar style={{width: 45,height: 45}} src={`${data.photoURL ? data.photoURL : `https://avatars.dicebear.com/api/human/${data.id}.svg`}`} />\n                                    {onlineState=== \"online\" ? <div className=\"online\"></div> : null}\n                                </div>\n                                <div className=\"sidebar__chat--info\">\n                                    <h2 \n                                        dangerouslySetInnerHTML={{__html: title === \"Search Result\" ? data._highlightResult.name.value : data.name}}\n                                        style={{\n                                            width: page.width <= 760 ? page.width - 126 : page.width * 0.315 - 126,\n                                            marginBottom: lastMessage?.message || lastMessage ? 8 : 0,\n                                        }}\n                                    ></h2>\n                                    <p style={{width: page.width <= 760 ? page.width - 126 : page.width * 0.315 - 126}}>\n                                        {lastMessage?.message ? \n                                            <><Photo style={{width: 19,height: 19}} /> <span style={{width: page.width <= 760 ? page.width - 150 : page.width * 0.315 - 150}}>{lastMessage.message}</span> </>\n                                            : lastMessage?.audio ?\n                                            <><MicRounded style={{width: 19,height: 19}} /><span style={{width: page.width <= 760 ? page.width - 150 : page.width * 0.315 - 150}}>{lastMessage.time}</span></>\n                                            : lastMessage?.message === \"\" ?\n                                            <><Photo style={{width: 19,height: 19}} /> <span style={{width: page.width <= 760 ? page.width - 150 : page.width * 0.315 - 150}}>Multimedia</span> </>\n                                        :lastMessage}\n                                    </p>\n                                </div>\n                                {data?.unreadMessages && pathID !== data.id ?\n                                    <div className=\"sidebar__chat--unreadMessages\">\n                                        <div>\n                                            {data.unreadMessages}\n                                        </div>\n                                    </div>\n                                :null}\n                            </div>\n                        </Link>);\n                    }\n                } else {\n                    arr.push(null);\n                }\n            });\n            setList(arr)\n        }\n    }, [dataList, roomsData, page, pathID]);\n\n    useEffect(() => {\n        if (page.width <= 760) {\n            dispatch({type: \"SET_PATH\", path: path});\n        } else {\n            dispatch({type: \"SET_PATH\", path: \"\"})\n        }\n    }, [path, page]);\n\n    return (\n        <div ref={sidebarChatContainer} className=\"sidebar__chat--container\">\n            <h2 className=\"animate\">{title} </h2>\n            {dataList?.length > 0 ? list : dataList === null && title !== \"Chats\" ?\n                <div className=\"loader__container sidebar__loader\">\n                    <CircularProgress />\n                </div>\n                :\n                <div className=\"no-result\">\n                    <div>\n                        <SearchOutlined />\n                        <div className=\"cancel-root\">\n                            <CancelOutlined />\n                        </div>\n                    </div>\n                    <h2>No {title} found </h2>\n                </div>\n                \n            }\n            <div className=\"loader__container scrollFetch\">\n                {scrollFetch ? <CircularProgress /> : null}\n            </div>\n        </div>\n    )\n}\n\nexport default memo(SidebarChat);\n","import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/database\"\nimport \"firebase/messaging\";\nimport \"firebase/storage\"\n\nconst firebaseConfig = {\n\tapiKey: \"AIzaSyCYw31UUFdkoEYdQlqSkPGc-VMYj-nSBnk\",\n    authDomain: \"chatapp-1178f.firebaseapp.com\",\n    projectId: \"chatapp-1178f\",\n    storageBucket: \"chatapp-1178f.appspot.com\",\n    messagingSenderId: \"780669474621\",\n    appId: \"1:780669474621:web:e094fc3ba7346bf9b0d754\",\n    measurementId: \"G-GTX46BN860\"\n};/*use your own configuration*/\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\n\nconst enablePersistence = firebaseApp.firestore().enablePersistence();\nconst db = firebaseApp.firestore();\nconst db2 = firebaseApp.database();\nconst auth = firebaseApp.auth();\nconst provider = new firebase.auth.GoogleAuthProvider();\nvar provider2 = new firebase.auth.FacebookAuthProvider();\nconst createTimestamp = firebase.firestore.FieldValue.serverTimestamp;\nconst createTimestamp2 = firebase.database.ServerValue.TIMESTAMP;\nconst messaging = \"serviceWorker\" in navigator && \"PushManager\" in window ?  firebase.messaging() : null;\nconst fieldIncrement = firebase.firestore.FieldValue.increment;\nconst arrayUnion = firebase.firestore.FieldValue.arrayUnion;\nconst storage = firebase.storage().ref(\"images\");\nconst audioStorage = firebase.storage().ref(\"audios\");\nconst videoStorage = firebase.storage().ref(\"videos\");\nconst documentStorage = firebase.storage().ref(\"documents\");\n\n//set firebase loaded to \"true\" in app.js\nasync function loadFirebase(setFirebaseLoaded) {\n\tawait enablePersistence;\n\tawait db;\n\tsetFirebaseLoaded(true);\n}\n//db.disableNetwork();\n\nexport {loadFirebase, auth , provider, provider2, createTimestamp, messaging, fieldIncrement, arrayUnion, storage, audioStorage, videoStorage, documentStorage, db2, createTimestamp2};\nexport default db;\n","import { useRef, useState } from \"react\";\n\nexport default function useFetchData(limitNumber, get,initCount, snapHandler, name) {\n\tconst limit = useRef(0);\n\tconst dataUnsub = useRef();\n\tconst [data, setData] = useState(null);\n\tconst snapCount = useRef(0);\n\n\treturn [data, function fetchData(setScrollFetch) {\n\t\tif (limit.current || limit.current === 0) {\n            if (limit.current === \"limit attended\") {\n                setScrollFetch(false);\n                limit.current = null;\n            } else {\n                setScrollFetch(true);\n                limit.current = limit.current + limitNumber;\n            };\n            if (dataUnsub.current) {\n                dataUnsub.current();\n            };\n            if (initCount) {\n            \tsnapCount.current = 0;\n            };\n            let timeout = null;\n            const getData = limit.current ? get.limit(limit.current) : get;\n            dataUnsub.current = getData.onSnapshot(snapshot => {\n                snapCount.current++;\n                const s = () => {\n                    const arr = snapHandler(snapshot);\n                    setData(arr);\n                    setScrollFetch(false);\n                    if ((name === \"users\" && arr.length < limit.current - 1) || (name !== \"users\" && arr.length < limit.current)) {\n                        limit.current = \"limit attended\";\n                        fetchData(setScrollFetch)\n                    };\n                };\n                if (snapshot.docs?.length > 0) {\n                    if (snapCount.current >= 2) {\n                    \tif (timeout) {\n                    \t\tclearTimeout(timeout);\n                    \t\ttimeout = null;\n                    \t}\n                    \ts();\n                    } else {\n                    \ttimeout = setTimeout(s, 1500)\n                    };\n                } else if (snapshot.docs?.length === 0) {\n                    setData([]);\n                    setScrollFetch(false);\n                };\n            });\n        };\n        return dataUnsub;\n\t}, setData];\n};","import {useEffect, useRef} from \"react\";\nimport { useStateValue } from \"./StateProvider\";\nimport db from \"./firebase\";\n\nexport default function useRoomsData() {\n    const [{ roomsData: initRoomsData }, dispatch] = useStateValue();\n    const roomsData = useRef(initRoomsData)\n\n    useEffect(() => {\n        roomsData.current = initRoomsData;\n    }, [initRoomsData])\n    \n    return [function setRoomsData(userID, roomID) {\n        if (!roomsData.current[roomID]) {\n            const lastMessageListener = db.collection(\"rooms\").doc(roomID).onSnapshot(doc => {\n                //console.log(\"last message listener executed with room id: \", roomID)\n                dispatch({\n                    type: \"update_rooms_data\",\n                    dataType: \"lastMessage\",\n                    data: doc.data()?.lastMessage,\n                    roomID\n                });\n            });\n            const onlineStateListener = db.collection(\"users\").doc(userID).onSnapshot(doc => {\n                //console.log(\"onlineState listener executed with room id: \", roomID)\n                dispatch({\n                    type: \"update_rooms_data\",\n                    dataType: \"onlineState\",\n                    data: doc.data()?.state,\n                    roomID\n                });\n            });\n            dispatch({\n                type: \"add_rooms_data\",\n                roomID,\n                lastMessageListener: lastMessageListener,\n                onlineStatelistener: onlineStateListener \n            });\n        };\n    }];\n};","export default __webpack_public_path__ + \"static/media/notification.34e1d6f8.mp3\";","var _path, _path2, _path3, _path4, _path5, _g, _defs;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPencil(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 60,\n    height: 60,\n    viewBox: \"0 0 60 60\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M36.3158 59.25C23.6923 59.25 13.4211 49.4928 13.4211 37.5C13.4211 25.5072 23.6923 15.75 36.3158 15.75C48.9393 15.75 59.2106 25.5072 59.2106 37.5C59.2106 49.4928 48.9393 59.25 36.3158 59.25ZM36.3158 17.0625C24.453 17.0625 14.8027 26.2294 14.8027 37.5C14.8027 48.7706 24.453 57.9375 36.3158 57.9375C48.1786 57.9375 57.829 48.7706 57.829 37.5C57.829 26.2294 48.1786 17.0625 36.3158 17.0625Z\",\n    fill: \"black\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M36.3158 59.25C23.6923 59.25 13.4211 49.4928 13.4211 37.5C13.4211 25.5072 23.6923 15.75 36.3158 15.75C48.9393 15.75 59.2106 25.5072 59.2106 37.5C59.2106 49.4928 48.9393 59.25 36.3158 59.25ZM36.3158 17.0625C24.453 17.0625 14.8027 26.2294 14.8027 37.5C14.8027 48.7706 24.453 57.9375 36.3158 57.9375C48.1786 57.9375 57.829 48.7706 57.829 37.5C57.829 26.2294 48.1786 17.0625 36.3158 17.0625Z\",\n    stroke: \"black\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M36.3158 59.25C23.6923 59.25 13.4211 49.4928 13.4211 37.5C13.4211 25.5072 23.6923 15.75 36.3158 15.75C48.9393 15.75 59.2106 25.5072 59.2106 37.5C59.2106 49.4928 48.9393 59.25 36.3158 59.25ZM36.3158 17.0625C24.453 17.0625 14.8027 26.2294 14.8027 37.5C14.8027 48.7706 24.453 57.9375 36.3158 57.9375C48.1786 57.9375 57.829 48.7706 57.829 37.5C57.829 26.2294 48.1786 17.0625 36.3158 17.0625Z\",\n    stroke: \"url(#paint0_linear)\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.2032 12.6562H1.48106C0.663164 12.6562 0 12.0262 0 11.25C0 10.4738 0.663164 9.84375 1.48106 9.84375H22.2032C23.0211 9.84375 23.6842 10.4738 23.6842 11.25C23.6842 12.0262 23.0211 12.6562 22.2032 12.6562Z\",\n    fill: \"#3C94D4\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.8422 22.5C11.0243 22.5 10.3611 21.87 10.3611 21.0938V1.40625C10.3611 0.63 11.0243 0 11.8422 0C12.66 0 13.3232 0.63 13.3232 1.40625V21.0938C13.3232 21.87 12.66 22.5 11.8422 22.5Z\",\n    fill: \"#3C94D4\"\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    clipPath: \"url(#clip0)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M47.809 26.1905C46.2208 24.6032 43.6376 24.6032 42.0493 26.1905L25.7317 42.5081C25.724 42.5158 25.7195 42.5253 25.7127 42.5335C25.7032 42.5443 25.695 42.5561 25.6864 42.5679C25.6624 42.6014 25.6439 42.6371 25.6299 42.676C25.6258 42.6878 25.6199 42.6982 25.6167 42.71C25.6154 42.7145 25.6127 42.719 25.6113 42.7235L24.0118 49.443C24.0045 49.4733 24.0027 49.5041 24.0018 49.5344C24.0018 49.5403 24 49.5457 24 49.5516C24.0005 49.6032 24.0118 49.6534 24.0294 49.7018C24.0335 49.7131 24.038 49.7231 24.043 49.7339C24.0652 49.7824 24.0928 49.829 24.1317 49.8679C24.1747 49.9109 24.2253 49.9439 24.2801 49.9665C24.3348 49.9891 24.3932 50.0005 24.4516 50.0005C24.4864 50.0005 24.5217 49.9964 24.5561 49.9882L31.2756 48.3887C31.2878 48.386 31.2986 48.3792 31.3104 48.3751C31.3258 48.3701 31.3403 48.3643 31.3552 48.3575C31.3878 48.3425 31.4181 48.324 31.4462 48.3018C31.457 48.2932 31.4683 48.2869 31.4787 48.2774C31.4824 48.2738 31.4869 48.2719 31.4905 48.2683L47.8086 31.9502C49.3968 30.362 49.3968 27.7783 47.809 26.1905ZM47.1692 26.8303C48.295 27.9566 48.391 29.7249 47.4633 30.9647L43.0348 26.5362C44.2751 25.6086 46.0434 25.7045 47.1692 26.8303ZM44.9294 33.5498L40.4498 29.0701L41.0896 28.4303L45.5692 32.91L44.9294 33.5498ZM26.2448 47.7548C26.0679 47.5778 25.7819 47.5778 25.605 47.7548L25.2624 48.0973L26.4181 43.243L28.419 43.0208L28.1615 45.3385C28.1597 45.3557 28.1661 45.3715 28.1661 45.3882C28.1661 45.4054 28.1597 45.4208 28.1615 45.438C28.1633 45.4529 28.171 45.4652 28.1742 45.4796C28.1796 45.5059 28.1873 45.5299 28.1968 45.5543C28.2086 45.5837 28.2226 45.6104 28.2398 45.6362C28.2538 45.657 28.2679 45.6756 28.2851 45.6937C28.3068 45.7167 28.3303 45.7362 28.3561 45.7543C28.3765 45.7683 28.3959 45.7814 28.4186 45.7923C28.4484 45.8063 28.4796 45.8145 28.5122 45.8222C28.5294 45.8262 28.5434 45.8357 28.5611 45.838C28.5774 45.8398 28.5937 45.8407 28.6104 45.8407H28.6109H28.6113H28.6118H28.6122C28.6285 45.8407 28.6452 45.8398 28.6615 45.838L30.9792 45.5805L30.757 47.5814L25.9023 48.7371L26.2448 48.3946C26.4213 48.2181 26.4213 47.9317 26.2448 47.7548ZM31.9235 45.2756L42.0493 35.1493C42.2262 34.9724 42.2262 34.6864 42.0493 34.5095C41.8724 34.3326 41.5864 34.3326 41.4095 34.5095L31.2837 44.6357L29.124 44.8756L29.3638 42.7158L39.4905 32.59C39.6674 32.4131 39.6674 32.1271 39.4905 31.9502C39.3136 31.7733 39.0276 31.7733 38.8507 31.9502L28.724 42.076L27.2837 42.2362L39.81 29.71L44.2896 34.1896L31.7633 46.7158L31.9235 45.2756ZM46.2091 32.2701L41.7294 27.7905L42.3697 27.1502L46.8493 31.6299L46.2091 32.2701Z\",\n    fill: \"black\"\n  }))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear\",\n    x1: 36.3158,\n    y1: 15,\n    x2: 36.3158,\n    y2: 60,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"white\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"white\",\n    stopOpacity: 0\n  })), /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip0\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 25,\n    height: 25,\n    fill: \"white\",\n    transform: \"translate(24 25)\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPencil);\nexport default __webpack_public_path__ + \"static/media/pencil.9705cd65.svg\";\nexport { ForwardRef as ReactComponent };","import { useEffect, useState, memo, useRef } from 'react';\nimport SidebarChat from './SidebarChat';\nimport { Avatar, IconButton } from '@material-ui/core';\nimport { Message, PeopleAlt, Home, ExitToApp as LogOut, SearchOutlined, GetAppRounded, Add } from '@material-ui/icons';\nimport db, { auth, createTimestamp } from \"./firebase\";\nimport { useStateValue } from './StateProvider';\nimport { NavLink, Route, useHistory, Switch } from 'react-router-dom';\nimport algoliasearch from \"algoliasearch\";\nimport useFetchData from \"./useFetchData.js\";\nimport './Sidebar.css';\nimport useRoomsData from './useRoomsData';\nimport audio from './notification.mp3';\nimport { ReactComponent as Pencil } from \"./icon/pencil.svg\";\n\n\nconst index = algoliasearch(\"JIMBGKZ8LO\", \"f050ba62d4f7458801bbfb4c7b315ad8\").initIndex('chatapp');\n\nfunction Sidebar(props) {\n    const [searchList, setSearchList] = useState(null);\n    const [searchInput, setSearchInput] = useState(\"\");\n    const [menu, setMenu] = useState(1);\n    const [mounted, setMounted] = useState(false);\n    const [{ user, page, pathID }] = useStateValue();\n    const [setRoomsData] = useRoomsData();\n    let history = useHistory();\n    const notification = new Audio(audio);\n    const prevUnreadMessages = useRef((() => {\n        const data = {};\n        props.chats.forEach(cur => cur.unreadMessages || cur.unreadMessages === 0 ? data[cur.id] = cur.unreadMessages : null);\n        return data;\n    })());\n\n    var Nav;\n    if (page.width > 760) {\n        Nav = (props) =>\n            <div className={`${props.classSelected ? \"sidebar__menu--selected\" : \"\"}`} onClick={props.click}>\n                {props.children}\n            </div>\n    } else {\n        Nav = NavLink;\n    }\n\n    const [rooms, fetchRooms] = useFetchData(30, db.collection(\"rooms\").orderBy(\"timestamp\", \"desc\"), true, snap => {\n        return snap.docs.map(doc => ({\n            id: doc.id,\n            ...doc.data(),\n        }));\n    }, \"rooms\");\n\n    const [users, fetchUsers] = useFetchData(30, db.collection(\"users\").orderBy(\"timestamp\", \"desc\"), true, snap => {\n        const data = [];\n        if (snap.docs.length > 0) {\n            snap.docs.forEach((doc) => {\n                const id = doc.id > user.uid ? doc.id + user.uid : user.uid + doc.id;\n                if (doc.id !== user.uid) {\n                    data.push({\n                        ...doc.data(),\n                        id,\n                        userID: doc.id,\n                    });\n                    setRoomsData(doc.id, id);\n                };\n            });\n        };\n        return data;\n    }, \"users\");\n\n    async function search(e) {\n        if (e) {\n            document.querySelector(\".sidebar__search input\").blur();\n            e.preventDefault();\n        }\n        if (page.width <= 760) {\n            history.push(\"/search?\" + searchInput);\n        };\n        setSearchList(null);\n        if (menu !== 4) {\n            setMenu(4)\n        };\n        const result = (await index.search(searchInput)).hits.map(cur => cur.objectID !== user.uid ? {\n            ...cur,\n            id : cur.photoURL ? cur.objectID > user.uid ? cur.objectID + user.uid : user.uid + cur.objectID : cur.objectID,\n            userID: cur.photoURL ? cur.objectID : null\n        } : null);\n        //console.log(result);\n        setSearchList(result);\n    }\n\n    const createChat = () => {\n        const roomName = prompt(\"Type your group name\");\n        if (roomName) {\n            db.collection(\"rooms\").add({\n                name: roomName,\n                timestamp: createTimestamp(),\n                lastMessage: \"\",\n            });\n        };\n    };\n\n    useEffect(() => {\n        const data = {};\n        props.chats.forEach(cur => {\n            if (cur.unreadMessages || cur.unreadMessages === 0) {\n                if ((cur.unreadMessages > prevUnreadMessages.current[cur.id] || !prevUnreadMessages.current[cur.id] && prevUnreadMessages.current[cur.id] !== 0) && pathID !== cur.id) {\n                    notification.play();\n                };\n                data[cur.id] = cur.unreadMessages;\n            };\n        });\n        prevUnreadMessages.current = data;\n    }, [props.chats, pathID]);\n\n    useEffect(() => {\n        if (page.width <= 760 && props.chats && !mounted ) {\n            setMounted(true);\n            setTimeout(() => {\n                document.querySelector('.sidebar').classList.add('side'); \n            }, 10);\n        };\n    }, [props.chats, mounted]);\n\n    useEffect(() => {\n        const unsub1 = fetchRooms(() => null);\n        const unsub2 = fetchUsers(() => null);\n        return () => {\n            unsub1.current();\n            unsub2.current();\n        }\n    }, []);\n    \n    return (\n        <div ref={props.ref} className=\"sidebar\" style={{\n            minHeight: page.width <= 760 ? page.height : \"auto\"\n        }}>\n            <div className=\"sidebar__header\">\n                <div className=\"sidebar__header--left\">\n                </div>\n                <div className=\"sidebar__header--right\">\n                    <IconButton onClick={() => {\n                        if (props.pwa) {\n                            console.log(\"prompting the pwa event\")\n                            props.pwa.prompt()\n                        } else {\n                            console.log(\"pwa event is undefined\")\n                        }\n                    }} >\n                        <GetAppRounded />\n                    </IconButton>\n                    <IconButton onClick={createChat}>\n                        +\n                    </IconButton>\n                    <IconButton onClick={() => {\n                        auth.signOut();\n                        db.doc('/users/' + user.uid).set({ state: \"offline\" }, { merge: true });\n                        history.replace(\"/chats\")\n                    }} >\n                        <LogOut />\n                    </IconButton>\n\n                </div>\n            </div>\n\n            <div className=\"sidebar__search\">\n                <form className=\"sidebar__search--container\">\n                    <SearchOutlined />\n                    <input\n                        value={searchInput}\n                        onChange={(e) => setSearchInput(e.target.value)} \n                        placeholder=\"Search for users\" \n                        type=\"text\" \n                    />\n                    <button style={{display: \"none\"}} type=\"submit\" onClick={search}></button>\n                </form>\n            </div>\n\n            <div className=\"sidebar__menu\">\n                <Nav\n                    classSelected={menu === 1 ? true : false}\n                    to=\"/chats\"\n                    click={() => setMenu(1)}\n                    activeClassName=\"sidebar__menu--selected\"\n                >\n                    <div className=\"sidebar__menu--home\">\n                        Chats\n                        <div className=\"sidebar__menu--line\"></div>\n                    </div>\n                </Nav>\n                <Nav\n                    classSelected={menu === 2 ? true : false}\n                    to=\"/rooms\"\n                    click={() => setMenu(2)}\n                    activeClassName=\"sidebar__menu--selected\"\n                >\n                    <div className=\"sidebar__menu--rooms\" style={{display:\"none\"}}>\n                        Groups\n                        <div className=\"sidebar__menu--line\"></div>\n                    </div>\n                </Nav>\n                <Nav\n                    classSelected={menu === 3 ? true : false}\n                    to=\"/users\"\n                    click={() => setMenu(3)}\n                    activeClassName=\"sidebar__menu--selected\"\n                >\n                    <div className=\"sidebar__menu--users\">\n                        Private Chats\n                        <div className=\"sidebar__menu--line\"></div>\n                    </div>\n                </Nav>\n                <Nav\n                    classSelected={menu === 4 ? true : false}\n                    to=\"*\"\n                    click={() => setMenu(4)}\n                    activeClassName=\"sidebar__menu--selected\"\n                >\n                    <div className=\"sidebar__menu--users\">\n                        RPD\n                        <div className=\"sidebar__menu--line\"></div>\n                    </div>\n                </Nav>\n            </div>\n\n            {page.width <= 760 ?\n                <>\n                    <Switch>\n                        <Route path=\"/users\" >\n                            <SidebarChat key=\"users\" fetchList={fetchUsers} dataList={users} title=\"Users\" path=\"/users\" />\n                        </Route>\n                        <Route path=\"/rooms\" >\n                            <SidebarChat key=\"rooms\" fetchList={fetchRooms} dataList={rooms} title=\"Rooms\" path=\"/rooms\" />\n                        </Route>\n                        <Route path=\"/search\">\n                            <SidebarChat key=\"search\" dataList={searchList} title=\"Search Result\" path=\"/search\" />\n                        </Route>\n                        <Route path=\"/chats\" >\n                            <SidebarChat key=\"chats\" dataList={props.chats} title=\"Chats\" path=\"/chats\" />\n                        </Route>\n                    </Switch>\n                </>\n            :\n                    menu === 1 ?\n                        <SidebarChat key=\"chats\" dataList={props.chats} title=\"Chats\" />\n                    : menu === 2 ?\n                        <SidebarChat key=\"rooms\" fetchList={fetchRooms}  dataList={rooms} title=\"Rooms\" />\n                    : menu === 3 ?\n                        <SidebarChat key=\"users\" fetchList={fetchUsers} dataList={users} title=\"Users\" />\n                    : menu === 4 ? \n                        <SidebarChat key=\"search\" dataList={searchList} title=\"Search Result\" />\n                     : null    \n                }\n        </div>\n    );\n};\n\nexport default memo(Sidebar);\n","var _g, _defs;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCalendar(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 21,\n    height: 20,\n    viewBox: \"0 0 21 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    clipPath: \"url(#clip0)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19.6875 2.66666H16.4062V1.33333C16.4062 0.597 15.8186 0 15.0937 0C14.3689 0 13.7812 0.597 13.7812 1.33333V2.66666H7.21875V1.33333C7.21875 0.597 6.63109 0 5.90625 0C5.18141 0 4.59375 0.597 4.59375 1.33333V2.66666H1.3125C0.58759 2.66666 0 3.26358 0 4V5.33334H21V4C21 3.26358 20.4124 2.66666 19.6875 2.66666Z\",\n    fill: \"black\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 18.6667C0 19.4031 0.58759 20 1.3125 20H19.6875C20.4124 20 21 19.4031 21 18.6667V6.66669H0V18.6667ZM14.4375 9.33337H17.0625V12H14.4375V9.33337ZM9.1875 9.33337H11.8125V12H9.1875V9.33337ZM9.1875 14.6667H11.8125V17.3334H9.1875V14.6667ZM3.9375 9.33337H6.5625V12H3.9375V9.33337ZM3.9375 14.6667H6.5625V17.3334H3.9375V14.6667Z\",\n    fill: \"black\"\n  }))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip0\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 21,\n    height: 20,\n    fill: \"white\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCalendar);\nexport default __webpack_public_path__ + \"static/media/calendar.41c88f58.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSend(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.05726 3.9192C2.86624 3.85416 2.64458 3.88416 2.49195 3.99565C2.3393 4.1072 2.28453 4.27929 2.3522 4.43444L4.57776 9.53864L19.6538 9.56963L3.05726 3.9192Z\",\n    fill: \"#3C94D4\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.57522 10.3677L2.31609 15.4627C2.24948 15.613 2.29796 15.7796 2.4395 15.8918C2.4439 15.8953 2.44835 15.8987 2.45298 15.9021C2.60487 16.0142 2.82633 16.0451 3.0178 15.9809L19.6513 10.3986L4.57522 10.3677Z\",\n    fill: \"#3C94D4\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSend);\nexport default __webpack_public_path__ + \"static/media/send.8a93c51e.svg\";\nexport { ForwardRef as ReactComponent };","import {memo, useEffect, useState} from \"react\";\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\nimport \"./ImgPreview.css\";\n\n// preview an image before send it\nexport default memo(function ImgPreview({imageSRC, mediaPreview, closeImage}) {\n\tconst [height, setHeight] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tsetHeight(document.querySelector('.chat__body--container').offsetHeight);\n\t}, [])\n\n\treturn(\n\t\t<div \n\t\t\tref={mediaPreview} \n\t\t\tclassName=\"mediaPreview\"\n\t\t\tstyle={{\n\t\t\t\theight: height,\n\t\t\t}}\n\t\t>\n\t\t\t<CloseRoundedIcon onClick={closeImage} />\n\t\t\t<img key={imageSRC} src={imageSRC} alt=\"\" />\n\t\t</div>\n\t)\n})","import {memo, useEffect, useState} from \"react\";\r\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\r\nimport \"./ImgPreview.css\";\r\n\r\n// preview a video before send it\r\n\r\nexport default memo(function VidPreview({videoSRC, mediaPreview, closeVideo}) {\r\n\tconst [height, setHeight] = useState(\"\");\r\n\r\n\tuseEffect(() => {\r\n\t\tsetHeight(document.querySelector('.chat__body--container').offsetHeight);\r\n\t}, [])\r\n\r\n\treturn(\r\n\t\t<div \r\n\t\t\tref={mediaPreview} \r\n\t\t\tclassName=\"mediaPreview\"\r\n\t\t\tstyle={{\r\n\t\t\t\theight: height,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<CloseRoundedIcon onClick={closeVideo} />\r\n            <video controls key={videoSRC} src={videoSRC}/>\r\n\t\t</div>\r\n\t)\r\n})","import {memo, useEffect, useState} from \"react\";\r\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\r\nimport \"./ImgPreview.css\";\r\n// preview a document before send it\r\n\r\nexport default memo(function DocPreview({fileSRC, mediaPreview, closeFile}) {\r\n\tconst [height, setHeight] = useState(\"\");\r\n\r\n\tuseEffect(() => {\r\n\t\tsetHeight(document.querySelector('.chat__body--container').offsetHeight);\r\n\t}, [])\r\n\r\n\treturn(\r\n\t\t<div \r\n\t\t\tref={mediaPreview} \r\n\t\t\tclassName=\"mediaPreview\"\r\n\t\t\tstyle={{\r\n\t\t\t\theight: height,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div>\r\n\t\t\t<CloseRoundedIcon onClick={closeFile} />\r\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-file-earmark-text-fill\" viewBox=\"0 0 16 16\" src={fileSRC} key={fileSRC}>\r\n  <path d=\"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zM4.5 9a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0 1h-7zM4 10.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 1 0-1h4a.5.5 0 0 1 0 1h-4z\"/>\r\n</svg>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n})","import { useEffect, memo, useState } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { useHistory } from 'react-router-dom';\nimport { useStateValue } from './StateProvider';\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\nimport \"./ImagePreview.css\"\n\n//// view an image already uploaded\n\nexport default memo(function ImagePreview({ imagePreview, animState }) {\n    const history = useHistory();\n    const [loaded, setLoaded] = useState(false);\n    const [{page}] = useStateValue();\n    \n    useEffect(() => {\n        if (loaded) {\n            const ratio = page.height / page.width;\n            const el = document.querySelector('.imagePreview-container');\n            var animW, animH, a;\n            const imageRatio = imagePreview.ratio ? imagePreview.ratio : (imagePreview.imgH / imagePreview.imgW);\n            if (ratio  < imageRatio) {\n                a = true;\n                animW = (1 / imageRatio) * page.height;\n                animH = page.height;\n            } else {\n                a = false;\n                animH = imageRatio * page.width;\n                animW = page.width;\n            }\n            if (animState === \"entering\" || animState === \"entered\") {\n                setTimeout(() => {\n                    document.querySelector(\".imagePreview\").style.backgroundColor = \"black\";\n                    el.style.borderRadius = \"0px\"\n                    el.style.transformOrigin = a ? \"0% 0%\" : \"0% 0%\";\n                    el.style.height = imagePreview.imgH + \"px\";\n                    el.style.transform = a ? `translateX(${(page.width / 2) - (animW / 2)}px) translateY(0px) scale(${page.height / imagePreview.imgH})` : \n                            `translateX(0px) translateY(${(page.height / 2) - (animH / 2)}px) scale(${page.width / imagePreview.width})`\n                    setTimeout(() => {\n                        document.querySelector('.imagePreview .MuiSvgIcon-root').classList.add(\"close-animate\")\n                    }, 300)\n                }, 10)\n            } else if (animState === \"exiting\") {\n                setTimeout(() => {\n                    document.querySelector('.imagePreview .MuiSvgIcon-root').classList.remove(\"close-animate\")\n                    setTimeout(() => {\n                        document.querySelector(\".imagePreview\").style.backgroundColor = \"transparent\"\n                    }, 200)\n                    el.style.borderRadius = \"10px\"\n                    el.style.height = imagePreview.height + \"px\";\n                    el.style.transform = `translateX(${imagePreview.left}px) translateY(${imagePreview.top}px) scale(1)`;\n                }, 10)\n            }\n        }\n    }, [animState, loaded]);\n\n    const style = {\n        transform:`translateX(${imagePreview.left}px) translateY(${imagePreview.top}px) scale(1)`,\n        width: imagePreview.width,\n        height: imagePreview.height,\n    }\n\n    const imgStyle = {}\n\n    if (page.height / page.width > imagePreview.ratio || page.height / page.width === imagePreview.ratio) {\n        imgStyle.minWidth = \"100%\";\n    } else {\n        imgStyle.minHeight = \"100%\";\n        if (imagePreview.imgW < imagePreview.width) {\n            imgStyle.minWidth = \"100%\";\n        }\n    }\n       \n    return createPortal(\n        <div className=\"imagePreview\" onClick={() => document.querySelector('.imagePreview .MuiSvgIcon-root').classList.toggle(\"close-animate\")}>\n            <CloseRoundedIcon onClick={() => history.goBack()} />\n            <div\n                className=\"imagePreview-container\"\n                style={style}\n            >\n                <img style={imgStyle} onLoad={() => setLoaded(true)} src={imagePreview.src} alt=\"\" />\n            </div>\n        </div>\n    , document.querySelector(\".app\"))\n})","import { useEffect, memo, useState } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useStateValue } from './StateProvider';\r\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\r\nimport \"./ImagePreview.css\"\r\n\r\n\r\n////// view a video already uploaded\r\n\r\nexport default memo(function VideoPreview({ videoPreview, animState }) {\r\n    const history = useHistory();\r\n    const [loaded, setLoaded] = useState(false);\r\n    const [{page}] = useStateValue();\r\n    \r\n    useEffect(() => {\r\n        if (loaded) {\r\n            const ratio = page.height / page.width;\r\n            const el = document.querySelector('.imagePreview-container');\r\n            var animW, animH, a;\r\n            const videoRatio = videoPreview.ratio ? videoPreview.ratio : (videoPreview.imgH / videoPreview.imgW);\r\n            if (ratio  < videoRatio) {\r\n                a = true;\r\n                animW = (1 / videoRatio) * page.height;\r\n                animH = page.height;\r\n            } else {\r\n                a = false;\r\n                animH = videoRatio * page.width;\r\n                animW = page.width;\r\n            }\r\n            if (animState === \"entering\" || animState === \"entered\") {\r\n                setTimeout(() => {\r\n                    document.querySelector(\".imagePreview\").style.backgroundColor = \"black\";\r\n                    el.style.borderRadius = \"0px\"\r\n                    el.style.transformOrigin = a ? \"0% 0%\" : \"0% 0%\";\r\n                    el.style.height = videoPreview.imgH + \"px\";\r\n                    el.style.transform = a ? `translateX(${(page.width / 2) - (animW / 2)}px) translateY(0px) scale(${page.height / videoPreview.imgH})` : \r\n                            `translateX(0px) translateY(${(page.height / 2) - (animH / 2)}px) scale(${page.width / videoPreview.width})`\r\n                    setTimeout(() => {\r\n                        document.querySelector('.imagePreview .MuiSvgIcon-root').classList.add(\"close-animate\")\r\n                    }, 300)\r\n                }, 10)\r\n            } else if (animState === \"exiting\") {\r\n                setTimeout(() => {\r\n                    document.querySelector('.imagePreview .MuiSvgIcon-root').classList.remove(\"close-animate\")\r\n                    setTimeout(() => {\r\n                        document.querySelector(\".imagePreview\").style.backgroundColor = \"transparent\"\r\n                    }, 200)\r\n                    el.style.borderRadius = \"10px\"\r\n                    el.style.height = videoPreview.height + \"px\";\r\n                    el.style.transform = `translateX(${videoPreview.left}px) translateY(${videoPreview.top}px) scale(1)`;\r\n                }, 10)\r\n            }\r\n        }\r\n    }, [animState, loaded]);\r\n\r\n    const style = {\r\n        transform:`translateX(${videoPreview.left}px) translateY(${videoPreview.top}px) scale(1)`,\r\n        width: videoPreview.width,\r\n        height: videoPreview.height,\r\n    }\r\n\r\n    const imgStyle = {}\r\n\r\n    if (page.height / page.width > videoPreview.ratio || page.height / page.width === videoPreview.ratio) {\r\n        imgStyle.minWidth = \"100%\";\r\n    } else {\r\n        imgStyle.minHeight = \"100%\";\r\n        if (videoPreview.imgW < videoPreview.width) {\r\n            imgStyle.minWidth = \"100%\";\r\n        }\r\n    }\r\n       \r\n    return createPortal(\r\n        <div className=\"imagePreview\" onClick={() => document.querySelector('.imagePreview .MuiSvgIcon-root').classList.toggle(\"close-animate\")}>\r\n            <CloseRoundedIcon onClick={() => history.goBack()} />\r\n            <div\r\n                className=\"imagePreview-container\"\r\n                style={style}\r\n            >\r\n                <video controls style={imgStyle} onLoad={() => setLoaded(true)} src={videoPreview.src}/>\r\n            </div>\r\n        </div>\r\n    , document.querySelector(\".app\"))\r\n})","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgVoiceRecFooter(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.8281 17.6562C9.5644 17.6562 9.89955 17.6282 10.6799 17.4617C11.5353 18.9758 13.16 20 15.0196 20C17.7658 20 20 17.7658 20 15.0196C20 13.5364 19.3457 12.1408 18.2048 11.1906C18.0804 11.0871 17.8957 11.104 17.7922 11.2283C17.6886 11.3527 17.7055 11.5374 17.8298 11.641C18.8366 12.4794 19.414 13.7108 19.414 15.0196C19.414 17.4427 17.4427 19.414 15.0196 19.414C12.5964 19.414 10.625 17.4427 10.625 15.0196C10.625 12.5964 12.5964 10.625 15.0196 10.625C15.7142 10.625 16.3788 10.7825 16.9949 11.0932C17.0748 11.1335 17.1688 11.135 17.25 11.0974C17.3312 11.0597 17.3907 10.987 17.4117 10.9001C17.574 10.2254 17.6562 9.52835 17.6562 8.8281C17.6562 7.44225 17.3441 6.1154 16.7285 4.88449C16.1417 3.71101 15.2824 2.66371 14.2438 1.85582C14.1161 1.75648 13.9321 1.77949 13.8328 1.90719C13.7334 2.03492 13.7564 2.21899 13.8841 2.31832C15.909 3.89336 17.0703 6.2661 17.0703 8.8281C17.0703 9.362 17.0191 9.89385 16.9179 10.4137C16.3171 10.1649 15.6802 10.0391 15.0196 10.0391C14.473 10.0391 13.9468 10.1276 13.4544 10.291V6.94115C13.4544 6.7794 13.3232 6.6482 13.1614 6.6482C12.9996 6.6482 12.8684 6.7794 12.8684 6.94115V10.528C11.196 11.332 10.0391 13.0432 10.0391 15.0196C10.0391 15.6914 10.1727 16.3324 10.4149 16.9177C9.8948 17.019 9.36225 17.0703 8.8281 17.0703C4.28336 17.0703 0.58594 13.3729 0.58594 8.8281C0.58594 4.28336 4.28336 0.58594 8.8281 0.58594C10.3029 0.58594 11.7497 0.97996 13.0124 1.72547C13.1518 1.80773 13.3314 1.76149 13.4136 1.62211C13.4958 1.48278 13.4496 1.30313 13.3103 1.2209C11.9575 0.422188 10.4076 0 8.8281 0C3.96028 0 0 3.96028 0 8.8281C0 13.696 3.96028 17.6562 8.8281 17.6562ZM15.0196 17.6562C13.5657 17.6562 12.3828 16.4735 12.3828 15.0196C12.3828 13.5657 13.5657 12.3828 15.0196 12.3828C16.4735 12.3828 17.6562 13.5657 17.6562 15.0196C17.6562 16.4735 16.4735 17.6562 15.0196 17.6562ZM15.0196 12.9688C13.8888 12.9688 12.9688 13.8887 12.9688 15.0196C12.9688 16.1504 13.8888 17.0703 15.0196 17.0703C16.1503 17.0703 17.0703 16.1504 17.0703 15.0196C17.0703 13.8887 16.1503 12.9688 15.0196 12.9688ZM7.3837 13.2514C7.22185 13.2514 7.09075 13.1202 7.09075 12.9584V4.69785C7.09075 4.53606 7.22185 4.40488 7.3837 4.40488C7.54555 4.40488 7.6767 4.53606 7.6767 4.69785V12.9584C7.6767 13.1202 7.54555 13.2514 7.3837 13.2514ZM5.93935 12.2206C5.7775 12.2206 5.64635 12.0895 5.64635 11.9277V5.72855C5.64635 5.56675 5.7775 5.4356 5.93935 5.4356C6.10115 5.4356 6.2323 5.56675 6.2323 5.72855V11.9277C6.2323 12.0895 6.10115 12.2206 5.93935 12.2206ZM10.2725 11.4595C10.1107 11.4595 9.97955 11.3283 9.97955 11.1665V6.4897C9.97955 6.3279 10.1107 6.1967 10.2725 6.1967C10.4343 6.1967 10.5655 6.3279 10.5655 6.4897V11.1665C10.5655 11.3283 10.4343 11.4595 10.2725 11.4595ZM4.49488 11.4159C4.33304 11.4159 4.20191 11.2847 4.20191 11.1229V6.5333C4.20191 6.3715 4.33304 6.24035 4.49488 6.24035C4.65672 6.24035 4.78785 6.3715 4.78785 6.5333V11.1229C4.78785 11.2848 4.65672 11.4159 4.49488 11.4159ZM8.8281 10.8058C8.6663 10.8058 8.53515 10.6746 8.53515 10.5128V7.14335C8.53515 6.98155 8.6663 6.8504 8.8281 6.8504C8.98995 6.8504 9.1211 6.98155 9.1211 7.14335V10.5128C9.1211 10.6746 8.98995 10.8058 8.8281 10.8058ZM11.7169 10.6007C11.5551 10.6007 11.424 10.4695 11.424 10.3077V7.34845C11.424 7.18665 11.5551 7.05545 11.7169 7.05545C11.8787 7.05545 12.0099 7.18665 12.0099 7.34845V10.3077C12.0099 10.4695 11.8787 10.6007 11.7169 10.6007ZM3.05051 9.72825C2.88867 9.72825 2.75754 9.59705 2.75754 9.43525V8.221C2.75754 8.0592 2.88867 7.928 3.05051 7.928C3.21234 7.928 3.34348 8.0592 3.34348 8.221V9.43525C3.34348 9.59705 3.2123 9.72825 3.05051 9.72825ZM14.6058 9.5881C14.4439 9.5881 14.3127 9.4569 14.3127 9.2951V8.36115C14.3127 8.1994 14.4439 8.0682 14.6058 8.0682C14.7676 8.0682 14.8987 8.1994 14.8987 8.36115V9.2951C14.8987 9.4569 14.7676 9.5881 14.6058 9.5881ZM1.60609 9.38445C1.44426 9.38445 1.31313 9.2533 1.31313 9.0915V8.5648C1.31313 8.403 1.44426 8.27185 1.60609 8.27185C1.76793 8.27185 1.89907 8.403 1.89907 8.5648V9.0915C1.89907 9.2533 1.76793 9.38445 1.60609 9.38445ZM16.0501 9.3663C15.8883 9.3663 15.7572 9.2351 15.7572 9.0733V8.5829C15.7572 8.4211 15.8883 8.2899 16.0501 8.2899C16.212 8.2899 16.3431 8.4211 16.3431 8.5829V9.0733C16.3431 9.2351 16.2119 9.3663 16.0501 9.3663Z\",\n    fill: \"#167EC9\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgVoiceRecFooter);\nexport default __webpack_public_path__ + \"static/media/voice-rec-footer.38ad74f9.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDocument(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 20,\n    viewBox: \"0 0 16 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.5078 5.85938C9.75392 5.85938 9.14064 5.24606 9.14064 4.49218V0H2.14843C0.963784 0 0 0.963792 0 2.14844V17.8516C0 19.0362 0.963784 20 2.14843 20H13.0859C14.2706 20 15.2344 19.0362 15.2344 17.8516V5.85938H10.5078ZM3.20312 14.0625H6.04374C6.36734 14.0625 6.62966 14.3249 6.62966 14.6484C6.62966 14.972 6.36734 15.2344 6.04374 15.2344H3.20312C2.87953 15.2344 2.61718 14.972 2.61718 14.6484C2.61718 14.3249 2.87953 14.0625 3.20312 14.0625ZM2.61718 11.5234C2.61718 11.1998 2.87953 10.9375 3.20312 10.9375H11.7969C12.1205 10.9375 12.3828 11.1998 12.3828 11.5234C12.3828 11.847 12.1205 12.1094 11.7969 12.1094H3.20312C2.87953 12.1094 2.61718 11.847 2.61718 11.5234ZM11.7969 7.8125C12.1205 7.8125 12.3828 8.07488 12.3828 8.3984C12.3828 8.722 12.1205 8.9844 11.7969 8.9844H3.20312C2.87953 8.9844 2.61718 8.722 2.61718 8.3984C2.61718 8.07488 2.87953 7.8125 3.20312 7.8125H11.7969Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDocument);\nexport default __webpack_public_path__ + \"static/media/document.0365f390.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3, _path4, _path5, _path6, _path7, _path8, _path9;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgHealthRec(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 17,\n    height: 20,\n    viewBox: \"0 0 17 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.9524 10.158H7.76809C7.61927 10.158 7.47188 10.1198 7.34173 10.0477L5.29872 8.91437C5.08188 8.79406 4.83614 8.73047 4.58813 8.73047H2.8336V1.07422C2.8336 0.804961 3.05262 0.585938 3.32188 0.585938H13.0297C13.299 0.585938 13.518 0.804961 13.518 1.07422V9.20469C13.518 9.36648 13.6491 9.49766 13.811 9.49766C13.9728 9.49766 14.1039 9.36648 14.1039 9.20469V1.07422C14.1039 0.481875 13.622 0 13.0297 0H3.32188C2.72957 0 2.24766 0.481875 2.24766 1.07422V8.73047H1.07422C0.481915 8.73047 0 9.21234 0 9.80469V12.2453C0 12.4071 0.131133 12.5383 0.292969 12.5383C0.454805 12.5383 0.585938 12.4071 0.585938 12.2453V9.80469C0.585938 9.53543 0.804962 9.31641 1.07422 9.31641H4.58813C4.73696 9.31641 4.88438 9.35457 5.0145 9.42676L7.05755 10.5601C7.27442 10.6804 7.52012 10.744 7.76809 10.744H14.9524C15.2216 10.744 15.4406 10.963 15.4406 11.2323V18.9258C15.4406 19.195 15.2216 19.4141 14.9524 19.4141H1.07422C0.804962 19.4141 0.585938 19.195 0.585938 18.9258V13.5063C0.585938 13.3445 0.454805 13.2133 0.292969 13.2133C0.131133 13.2133 0 13.3445 0 13.5063V18.9258C0 19.5181 0.481915 20 1.07422 20H14.9524C15.5447 20 16.0266 19.5181 16.0266 18.9258V11.2322C16.0266 10.6399 15.5447 10.158 14.9524 10.158V10.158Z\",\n    fill: \"black\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.3836 6.64453H6.68047C6.51863 6.64453 6.3875 6.7757 6.3875 6.9375C6.3875 7.0993 6.51863 7.23047 6.68047 7.23047H11.3836C11.5454 7.23047 11.6766 7.0993 11.6766 6.9375C11.6766 6.7757 11.5454 6.64453 11.3836 6.64453Z\",\n    fill: \"black\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.3836 7.76556H6.68047C6.51863 7.76556 6.3875 7.89674 6.3875 8.05853C6.3875 8.22033 6.51863 8.3515 6.68047 8.3515H11.3836C11.5454 8.3515 11.6766 8.22033 11.6766 8.05853C11.6766 7.89674 11.5454 7.76556 11.3836 7.76556Z\",\n    fill: \"black\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5.43983 6.64453H5.06483C4.90299 6.64453 4.77186 6.7757 4.77186 6.9375C4.77186 7.0993 4.90299 7.23047 5.06483 7.23047H5.43983C5.60166 7.23047 5.7328 7.0993 5.7328 6.9375C5.7328 6.7757 5.60162 6.64453 5.43983 6.64453Z\",\n    fill: \"black\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5.43983 7.76556H5.06483C4.90299 7.76556 4.77186 7.89674 4.77186 8.05853C4.77186 8.22033 4.90299 8.3515 5.06483 8.3515H5.43983C5.60166 8.3515 5.7328 8.22033 5.7328 8.05853C5.7328 7.89674 5.60162 7.76556 5.43983 7.76556Z\",\n    fill: \"black\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.30316 2.26559C9.30316 1.64395 8.79745 1.13824 8.17581 1.13824C7.55416 1.13824 7.04845 1.64395 7.04845 2.26559C7.04845 2.88723 7.55416 3.39293 8.17581 3.39293C8.79745 3.39293 9.30316 2.88723 9.30316 2.26559ZM7.63436 2.26559C7.63436 1.96703 7.87725 1.72418 8.17577 1.72418C8.47428 1.72418 8.71718 1.96703 8.71718 2.26559C8.71718 2.56414 8.47428 2.80699 8.17577 2.80699C7.87725 2.80699 7.63436 2.56414 7.63436 2.26559Z\",\n    fill: \"black\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.51562 4.92342V5.3574C6.51562 5.72897 6.81789 6.03123 7.18945 6.03123H9.16211C9.53367 6.03123 9.83594 5.72897 9.83594 5.3574V4.92342C9.83594 4.32506 9.34914 3.83826 8.75078 3.83826H7.60078C7.00242 3.83826 6.51562 4.32506 6.51562 4.92342ZM7.10156 4.92342C7.10156 4.64814 7.32551 4.4242 7.60078 4.4242H8.75074C9.02602 4.4242 9.24996 4.64814 9.24996 4.92342V5.3574C9.24996 5.40588 9.21051 5.44529 9.16207 5.44529H7.18941C7.14098 5.44529 7.10152 5.40588 7.10152 5.3574V4.92342H7.10156Z\",\n    fill: \"black\"\n  })), _path8 || (_path8 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.90656 16.7271H8.11996C8.49859 16.7271 8.80668 16.4191 8.80668 16.0404V15.7322H9.11484C9.49348 15.7322 9.80156 15.4242 9.80156 15.0455V14.8321C9.80156 14.4534 9.49348 14.1454 9.11484 14.1454H8.80668V13.8372C8.80668 13.4586 8.49859 13.1505 8.11996 13.1505H7.90656C7.52793 13.1505 7.21984 13.4586 7.21984 13.8372V14.1454H6.91168C6.53305 14.1454 6.22496 14.4534 6.22496 14.8321V15.0455C6.22496 15.4241 6.53305 15.7322 6.91168 15.7322H7.21984V16.0404C7.21984 16.4191 7.52793 16.7271 7.90656 16.7271V16.7271ZM6.91168 15.1463C6.85609 15.1463 6.8109 15.1011 6.8109 15.0455V14.8321C6.8109 14.7765 6.85609 14.7313 6.91168 14.7313H7.35836C7.60504 14.7313 7.80578 14.5306 7.80578 14.2839V13.8372C7.80578 13.7816 7.85098 13.7365 7.90656 13.7365H8.11996C8.17555 13.7365 8.22074 13.7816 8.22074 13.8372V14.2839C8.22074 14.5306 8.42148 14.7313 8.66816 14.7313H9.11484C9.17043 14.7313 9.21562 14.7765 9.21562 14.8321V15.0455C9.21562 15.1011 9.17043 15.1463 9.11484 15.1463H8.66816C8.42148 15.1463 8.22074 15.347 8.22074 15.5937V16.0404C8.22074 16.0959 8.17555 16.1412 8.11996 16.1412H7.90656C7.85098 16.1412 7.80578 16.096 7.80578 16.0404V15.5937C7.80578 15.347 7.60504 15.1463 7.35836 15.1463H6.91168Z\",\n    fill: \"black\"\n  })), _path9 || (_path9 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.20031 12.1292C8.82414 11.9701 8.42476 11.8894 8.01324 11.8894C6.33183 11.8894 4.96391 13.2574 4.96391 14.9388C4.96391 16.6202 6.33187 17.9881 8.01324 17.9881C9.69469 17.9881 11.0626 16.6202 11.0626 14.9388C11.0626 14.1425 10.7575 13.3891 10.2037 12.8173C10.0912 12.7011 9.90566 12.6981 9.78945 12.8107C9.67324 12.9233 9.67027 13.1087 9.78285 13.225C10.2303 13.6869 10.4767 14.2955 10.4767 14.9388C10.4767 16.2971 9.3716 17.4022 8.01328 17.4022C6.65496 17.4022 5.54988 16.2971 5.54988 14.9388C5.54988 13.5805 6.65496 12.4753 8.01328 12.4753C8.34598 12.4753 8.66852 12.5405 8.97207 12.6688C9.12117 12.7318 9.29305 12.6621 9.35601 12.5131C9.41906 12.3641 9.34933 12.1922 9.20031 12.1292V12.1292Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgHealthRec);\nexport default __webpack_public_path__ + \"static/media/health-rec.ac9aaba2.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _defs;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPerformance(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20 0H0V20H20V0Z\",\n    fill: \"url(#pattern0)\"\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"pattern\", {\n    id: \"pattern0\",\n    patternContentUnits: \"objectBoundingBox\",\n    width: 1,\n    height: 1\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#image0\",\n    transform: \"scale(0.00195312)\"\n  })), /*#__PURE__*/React.createElement(\"image\", {\n    id: \"image0\",\n    width: 512,\n    height: 512,\n    xlinkHref: \"data:image/png;base64,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\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPerformance);\nexport default __webpack_public_path__ + \"static/media/performance.ef3dcdd0.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _defs;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCameraPic(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    clipPath: \"url(#clip0)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19.3346 4.58174C18.9354 4.16349 18.384 3.91634 17.7567 3.91634H14.6008V3.87832C14.6008 3.40304 14.4106 2.94676 14.0875 2.64258C13.7643 2.31939 13.327 2.12927 12.8517 2.12927H7.14829C6.65399 2.12927 6.21673 2.31939 5.89354 2.64258C5.57034 2.96577 5.38023 3.40304 5.38023 3.87832V3.91634H2.24335C1.61597 3.91634 1.06464 4.16349 0.665399 4.58174C0.26616 4.98098 0 5.55133 0 6.15969V15.6274C0 16.2547 0.247148 16.8061 0.665399 17.2053C1.06464 17.6046 1.63498 17.8707 2.24335 17.8707H17.7567C18.384 17.8707 18.9354 17.6236 19.3346 17.2053C19.7338 16.8061 20 16.2357 20 15.6274V6.15969C20 5.53231 19.7529 4.98098 19.3346 4.58174ZM19.0114 15.6274H18.9924C18.9924 15.9696 18.8593 16.2738 18.6312 16.5019C18.403 16.73 18.0989 16.8631 17.7567 16.8631H2.24335C1.90114 16.8631 1.59696 16.73 1.36882 16.5019C1.14068 16.2738 1.0076 15.9696 1.0076 15.6274V6.15969C1.0076 5.81749 1.14068 5.5133 1.36882 5.28517C1.59696 5.05703 1.90114 4.92395 2.24335 4.92395H5.91255C6.19772 4.92395 6.42586 4.69581 6.42586 4.41064V3.85931C6.42586 3.65018 6.5019 3.46007 6.63498 3.32699C6.76806 3.19391 6.95818 3.11787 7.1673 3.11787H12.8517C13.0608 3.11787 13.251 3.19391 13.384 3.32699C13.5171 3.46007 13.5932 3.65018 13.5932 3.85931V4.41064C13.5932 4.69581 13.8213 4.92395 14.1065 4.92395H17.7757C18.1179 4.92395 18.4221 5.05703 18.6502 5.28517C18.8783 5.5133 19.0114 5.81749 19.0114 6.15969V15.6274Z\",\n    fill: \"black\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.99999 6.21667C8.70721 6.21667 7.52851 6.749 6.692 7.5855C5.83649 8.44101 5.32318 9.60071 5.32318 10.8935C5.32318 12.1863 5.8555 13.365 6.692 14.2015C7.54752 15.057 8.70721 15.5703 9.99999 15.5703C11.2928 15.5703 12.4715 15.038 13.308 14.2015C14.1635 13.346 14.6768 12.1863 14.6768 10.8935C14.6768 9.60071 14.1445 8.422 13.308 7.5855C12.4715 6.749 11.2928 6.21667 9.99999 6.21667ZM12.5855 13.4981C11.9201 14.1444 11.0076 14.5627 9.99999 14.5627C8.99239 14.5627 8.07984 14.1444 7.41444 13.4981C6.74904 12.8327 6.3498 11.9201 6.3498 10.9125C6.3498 9.90489 6.76805 8.99234 7.41444 8.32694C8.07984 7.66154 8.99239 7.2623 9.99999 7.2623C11.0076 7.2623 11.9201 7.68056 12.5855 8.32694C13.2509 8.99234 13.6502 9.90489 13.6502 10.9125C13.6692 11.9201 13.2509 12.8327 12.5855 13.4981Z\",\n    fill: \"black\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16.7681 8.06087C17.2826 8.06087 17.6997 7.6438 17.6997 7.12931C17.6997 6.61483 17.2826 6.19775 16.7681 6.19775C16.2536 6.19775 15.8365 6.61483 15.8365 7.12931C15.8365 7.6438 16.2536 8.06087 16.7681 8.06087Z\",\n    fill: \"black\"\n  }))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip0\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 20,\n    height: 20,\n    fill: \"white\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCameraPic);\nexport default __webpack_public_path__ + \"static/media/camera-pic.f1d6e9ff.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPaperClip(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.99975 0C4.4771 0 0 4.4774 0 9.9998C0 15.5222 4.4771 20 9.99975 20C15.5224 20 20 15.5224 20 9.9998C20 4.47713 15.5224 0 9.99975 0ZM14.7999 8.90655L8.22865 15.4774L8.229 15.4776C8.2267 15.4799 8.2245 15.4815 8.22225 15.4838L8.182 15.524L8.1799 15.5218C7.8092 15.867 7.32885 16.0392 6.8316 16.0392C6.2385 16.0392 5.6233 15.7974 5.1473 15.3214C4.72403 14.8984 4.47023 14.352 4.43269 13.7828C4.39549 13.2198 4.57377 12.7004 4.9317 12.3072L4.9281 12.3036L11.4221 5.8096C11.9706 5.261 12.9027 5.3014 13.5006 5.89915C13.7809 6.1794 13.9495 6.54285 13.9746 6.9222C14.0012 7.32195 13.8608 7.70655 13.5895 7.97745L8.30305 13.2644L7.5694 12.5309L12.8561 7.2438C12.9336 7.16635 12.9442 7.0636 12.9394 6.99135C12.9309 6.8648 12.8679 6.73405 12.7668 6.63285C12.5768 6.44285 12.2969 6.40205 12.1556 6.54345L5.72525 12.9736L5.72545 12.9739C5.5399 13.1592 5.44845 13.4222 5.46785 13.7144C5.4889 14.0324 5.63555 14.3426 5.8809 14.5879C6.368 15.0748 7.09025 15.1456 7.4929 14.7464L14.0668 8.173C14.373 7.8666 14.5245 7.43595 14.493 6.9606C14.4598 6.45935 14.2303 5.97225 13.8469 5.58895C13.0736 4.81587 11.9147 4.71713 11.2628 5.36865L5.82415 10.807L5.0905 10.0736L10.5292 4.635C11.5853 3.57907 13.4027 3.6776 14.5803 4.85513C15.1417 5.4162 15.4782 6.13945 15.5282 6.8918C15.5796 7.66995 15.3211 8.3854 14.7999 8.90655Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPaperClip);\nexport default __webpack_public_path__ + \"static/media/paper-clip.c9c9ab6b.svg\";\nexport { ForwardRef as ReactComponent };","import { v4 as uuidv4 } from 'uuid';\n\nexport default function record (){\n  return new Promise(resolve => {\n    navigator.mediaDevices.getUserMedia({ audio: true })\n      .then(stream => {\n        const mediaRecorder = new MediaRecorder(stream);\n        const audioChunks = [];\n\n        mediaRecorder.addEventListener(\"dataavailable\", event => {\n          audioChunks.push(event.data);\n        });\n\n        const start = () => {\n          mediaRecorder.start();\n        };\n\n        const stop = () => {\n          return new Promise(resolve => {\n            mediaRecorder.addEventListener(\"stop\", () => {\n              const audioName = uuidv4();\n              const audioFile = new File(audioChunks, audioName, {type: \"audio/mpeg\"});\n              const audioUrl = URL.createObjectURL(audioFile);\n              const audio = new Audio(audioUrl);\n              const play = () => {\n                audio.play();\n              };\n\n              resolve({ audioFile, audioUrl, play, audioName });\n            });\n\n            mediaRecorder.stop();\n          });\n        };\n\n        resolve({ start, stop });\n      });\n  });\n};","import { memo, useState, useEffect, useRef, useCallback } from \"react\";\nimport { CancelRounded, CheckCircleRounded } from \"@material-ui/icons\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport { IconButton } from \"@material-ui/core\";\nimport { ReactComponent as Send } from \"./icon/send.svg\";\nimport { ReactComponent as VoiceRec } from \"./icon/voice-rec-footer.svg\";\nimport { ReactComponent as Document } from \"./icon/document.svg\";\nimport { ReactComponent as HealthRec } from \"./icon/health-rec.svg\";\nimport { ReactComponent as Performance } from \"./icon/performance.svg\";\nimport { ReactComponent as Campic } from \"./icon/camera-pic.svg\";\nimport { ReactComponent as PaperClip } from \"./icon/paper-clip.svg\";\nimport { AddPhotoAlternate } from \"@material-ui/icons\";\nimport emoji from \"./icon/emoji.png\";\nimport speaker from \"./icon/speaker.png\";\nimport MovieIcon from \"@material-ui/icons/Movie\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport db, { createTimestamp, fieldIncrement, audioStorage } from \"./firebase\";\nimport { useStateValue } from \"./StateProvider\";\nimport { CSSTransition } from \"react-transition-group\";\nimport recorder from \"./recorder.js\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport \"./ChatFooter.css\";\nimport \"./attachment-button.css\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { Picker } from \"emoji-mart\";\nimport { useSpeechRecognition, useSpeechSynthesis } from \"react-speech-kit\";\n\nconst wait = (time) => new Promise((resolve) => setTimeout(resolve, time));\n\nexport default memo(function ChatFooter({\n  input,\n  handleFocus,\n  change,\n  setInput,\n  sendMessage,\n  setFocus,\n  image,\n  video,\n  file,\n  focus,\n  state,\n  token,\n  roomID,\n  setAudioID,\n  handleImg,\n  handleVideo,\n  handleFile,\n}) {\n  const [recording, setRecording] = useState(false);\n  const [recordingTimer, setRecordingTimer] = useState(\"00:00\");\n  const [{ user }] = useStateValue();\n  const recordingEl = useRef();\n  const inputRef = useRef();\n  const timerInterval = useRef();\n  const record = useRef();\n  const [emojiPickerState, SetEmojiPicker] = useState(false);\n  const [message, SetMessage] = useState(\"\");\n  const [open, setOpen] = useState(false);\n\n  let emojiPicker;\n  if (emojiPickerState) {\n    emojiPicker = (\n      <Picker\n        title=\"Pick your emoji…\"\n        emoji=\"point_up\"\n        onSelect={(emoji) => setInput(input + emoji.native)}\n      />\n    );\n  }\n\n  function triggerPicker(event) {\n    event.preventDefault();\n    SetEmojiPicker(!emojiPickerState);\n  }\n\n  const { listen, listening, stop } = useSpeechRecognition({\n    onResult: (result) => {\n      setInput(result);\n    },\n  });\n\n  function handleBlur(event) {\n    if (!event.currentTarget.contains(event.relatedTarget) && !recording) {\n      setFocus(false);\n    }\n  }\n\n  async function sendAudio(audioFile, timer, audioName) {\n    db.collection(\"rooms\")\n      .doc(roomID)\n      .set(\n        {\n          [user.uid]: false,\n        },\n        { merge: true }\n      );\n    db.collection(\"rooms\")\n      .doc(roomID)\n      .set(\n        {\n          lastMessage: {\n            audio: true,\n            time: timer,\n          },\n          seen: false,\n        },\n        { merge: true }\n      );\n    if (state.userID) {\n      db.collection(\"users\")\n        .doc(state.userID)\n        .collection(\"chats\")\n        .doc(roomID)\n        .set(\n          {\n            timestamp: createTimestamp(),\n            photoURL: user.photoURL ? user.photoURL : null,\n            name: user.displayName,\n            userID: user.uid,\n            unreadMessages: fieldIncrement(1),\n          },\n          { merge: true }\n        );\n      db.collection(\"users\")\n        .doc(user.uid)\n        .collection(\"chats\")\n        .doc(roomID)\n        .set(\n          {\n            timestamp: createTimestamp(),\n            photoURL: state.photoURL ? state.photoURL : null,\n            name: state.name,\n            userID: state.userID,\n          },\n          { merge: true }\n        );\n    } else {\n      db.collection(\"users\")\n        .doc(user.uid)\n        .collection(\"chats\")\n        .doc(roomID)\n        .set({\n          timestamp: createTimestamp(),\n          photoURL: state.photoURL ? state.photoURL : null,\n          name: state.name,\n        });\n    }\n    const doc = await db\n      .collection(\"rooms\")\n      .doc(roomID)\n      .collection(\"messages\")\n      .add({\n        name: user.displayName,\n        uid: user.uid,\n        timestamp: createTimestamp(),\n        time: new Date().toUTCString(),\n        audioUrl: \"uploading\",\n        audioName,\n        audioPlayed: false,\n      });\n    await audioStorage.child(audioName).put(audioFile);\n    const url = await audioStorage.child(audioName).getDownloadURL();\n    db.collection(\"rooms\")\n      .doc(roomID)\n      .collection(\"messages\")\n      .doc(doc.id)\n      .update({\n        audioUrl: url,\n      });\n    if (state.userID && token !== \"\") {\n      db.collection(\"notifications\").add({\n        userID: user.uid,\n        title: user.displayName,\n        body: \"🎵 \" + timer,\n        photoURL: user.photoURL,\n        token: token,\n      });\n    }\n  }\n\n  async function startRecording(e) {\n    e.preventDefault();\n    if (window.navigator.onLine) {\n      if (focus) {\n        inputRef.current.focus();\n      }\n      await wait(150);\n      record.current = await recorder(roomID);\n      setAudioID(null);\n      inputRef.current.style.width = \"calc(100% - 56px)\";\n      await wait(305);\n      setRecording(true);\n    } else {\n      alert(\"No internet access 🚫📶\");\n    }\n  }\n\n  async function stopRecording() {\n    if (focus) {\n      inputRef.current.focus();\n    }\n    db.collection(\"rooms\")\n      .doc(roomID)\n      .set(\n        {\n          [user.uid]: false,\n        },\n        { merge: true }\n      );\n    clearInterval(timerInterval.current);\n    const stopped = record.current.stop();\n    recordingEl.current.style.opacity = \"0\";\n    await wait(300);\n    setRecording(false);\n    inputRef.current.style.width = \"calc(100% - 112px)\";\n    const time = recordingTimer;\n    setRecordingTimer(\"00:00\");\n    return [stopped, time];\n  }\n\n  async function finishRecording() {\n    var [audio, time] = await stopRecording();\n    audio = await audio;\n    sendAudio(audio.audioFile, time, audio.audioName);\n  }\n\n  function pad(val) {\n    var valString = val + \"\";\n    if (valString.length < 2) {\n      return \"0\" + valString;\n    } else {\n      return valString;\n    }\n  }\n\n  function timer() {\n    const start = Date.now();\n    timerInterval.current = setInterval(setTime, 100);\n\n    function setTime() {\n      const delta = Date.now() - start; // milliseconds elapsed since start\n      const totalSeconds = Math.floor(delta / 1000);\n      setRecordingTimer(\n        pad(parseInt(totalSeconds / 60)) + \":\" + pad(totalSeconds % 60)\n      );\n    }\n  }\n\n  function audioInputChange(e) {\n    if (window.navigator.onLine) {\n      const file = e.target.files[0];\n      if (file) {\n        setAudioID(null);\n        const audioFile = new Audio(URL.createObjectURL(file));\n        audioFile.addEventListener(\"loadedmetadata\", () => {\n          const totalSeconds = Math.floor(audioFile.duration);\n          const time =\n            pad(parseInt(totalSeconds / 60)) + \":\" + pad(totalSeconds % 60);\n          sendAudio(file, time, uuidv4());\n        });\n      }\n    } else {\n      alert(\"No internet access 🚫📶\");\n    }\n  }\n\n  useEffect(() => {\n    const a = async () => {\n      await wait(10);\n      recordingEl.current.style.opacity = \"1\";\n      await wait(100);\n      timer();\n      db.collection(\"rooms\")\n        .doc(roomID)\n        .set(\n          {\n            [user.uid]: \"recording\",\n          },\n          { merge: true }\n        );\n      record.current.start();\n    };\n    if (recording) {\n      a();\n    }\n  }, [recording]);\n\n  const btnIcons = (\n    <>\n      <CSSTransition\n        in={input !== \"\" || (input === \"\" && image) || (input === \"\" && video)}\n        timeout={{\n          enter: 400,\n          exit: 200,\n        }}\n        classNames=\"send__animate2\"\n        className=\"send__icon\"\n      >\n        <Send\n          style={{\n            width: 27,\n            height: 27,\n          }}\n        />\n      </CSSTransition>\n      <CSSTransition\n        in={\n          !(input !== \"\" || (input === \"\" && image) || (input === \"\" && video))\n        }\n        timeout={{\n          enter: 400,\n          exit: 200,\n        }}\n        classNames=\"send__animate\"\n        className=\"send__icon\"\n      >\n        <VoiceRec\n          style={{\n            width: 27,\n            height: 27,\n          }}\n        />\n      </CSSTransition>\n    </>\n  );\n\n  const closeHandler = useCallback(() => setOpen(false), []);\n\n  return (\n    <ClickAwayListener onClickAway={closeHandler}>\n      <div className=\"input\">\n        {emojiPicker}\n        <div className=\"chat__footer\" onBlur={handleBlur}>\n          <form>\n            <div className=\"form__icons-input-and-camera\">\n              <div className=\"fabs\">\n                <div\n                  className=\"fab white\"\n                  tooltip=\"Speak To Write\"\n                  onMouseDown={listen}\n                  onMouseUp={stop}\n                >\n                  <img src={speaker} alt=\"Speaker\" className=\"svg\" />\n                </div>\n                <div className=\"fab white\" tooltip=\"Health Records\">\n                  <HealthRec className=\"svg\" />\n                </div>\n                <div className=\"fab white\" tooltip=\"Performance\">\n                  <Performance className=\"svg\" />\n                </div>\n                <div className=\"fab white\" tooltip=\"Camera\">\n                  <input\n                    style={{ display: \"none\" }}\n                    id=\"attach-media\"\n                    accept=\"image/*, video/*\"\n                    type=\"file\"\n                    capture=\"user\"\n                  />\n                  <IconButton>\n                    <label\n                      style={{ color: \"black\", cursor: \"pointer\", height: 24 }}\n                      htmlFor=\"attach-media\"\n                    >\n                      <Campic className=\"cam-pic\" />\n                    </label>\n                  </IconButton>\n                </div>\n                <div className=\"fab white\" tooltip=\"Documents\">\n                  <input\n                    id=\"attach-file\"\n                    style={{ display: \"none\" }}\n                    accept=\"doc/*, docx/*, pdf/*, xls/*, xlsx/*, ppt/*, txt/*\"\n                    type=\"file\"\n                    onChange={handleFile}\n                  />\n                  <IconButton className=\"img-icon\">\n                    <label\n                      style={{ color: \"black\", cursor: \"pointer\", height: 24 }}\n                      htmlFor=\"attach-file\"\n                    >\n                      <Document className=\"doc\" />\n                    </label>\n                  </IconButton>\n                </div>\n                <div className=\"fab white\" tooltip=\"Photo\">\n                  <input\n                    id=\"attach-image\"\n                    style={{ display: \"none\" }}\n                    accept=\"image/*\"\n                    type=\"file\"\n                    onChange={handleImg}\n                  />\n                  <IconButton className=\"img-icon\">\n                    <label\n                      style={{ color: \"black\", cursor: \"pointer\", height: 24 }}\n                      htmlFor=\"attach-image\"\n                    >\n                      <AddPhotoAlternate />\n                    </label>\n                  </IconButton>\n                </div>\n                <div className=\"fab white\" tooltip=\"Video\">\n                  <input\n                    id=\"attach-video\"\n                    style={{ display: \"none\" }}\n                    accept=\"video/*\"\n                    type=\"file\"\n                    onChange={handleVideo}\n                  />\n                  <IconButton className=\"img-icon\">\n                    <label\n                      style={{ color: \"black\", cursor: \"pointer\", height: 24 }}\n                      htmlFor=\"attach-video\"\n                    >\n                      <MovieIcon />\n                    </label>\n                  </IconButton>\n                </div>\n                <div id=\"paper-clip\" tooltip=\"Attach\">\n                  <PaperClip className=\"paper-clip\" />\n                </div>\n              </div>\n\n              <div className=\"emoji-box\">\n                <IconButton title=\"Add Emoji\">\n                  <span\n                    role=\"img\"\n                    aria-label=\"emoji picker button\"\n                    onClick={triggerPicker}\n                  >\n                    <img src={emoji} alt=\"Emoji\" className=\"emoji-icon\" />\n                  </span>\n                </IconButton>\n              </div>\n              <div className=\"form__input-and-camera\">\n                <input\n                  ref={inputRef}\n                  value={input}\n                  onClick={handleFocus}\n                  onChange={!recording ? change : null}\n                  onKeyPress={recording ? () => false : null}\n                  onFocus={() => setFocus(true)}\n                  placeholder=\"Type Your Message\"\n                  className=\"input\"\n                />\n                <div className=\"camera\">\n                  <input\n                    style={{ display: \"none\" }}\n                    id=\"attach-media\"\n                    accept=\"image/*, video/*\"\n                    type=\"file\"\n                    capture=\"user\"\n                  />\n                  <IconButton title=\"Take photos & videos\">\n                    <label style={{ cursor: \"pointer\" }} htmlFor=\"attach-media\">\n                      <Campic />\n                    </label>\n                  </IconButton>\n                </div>\n              </div>\n            </div>\n\n            <div>\n              {navigator.mediaDevices.getUserMedia && window.MediaRecorder ? (\n                <button\n                  type=\"submit\"\n                  className=\"send__btn\"\n                  onClick={\n                    input !== \"\" ||\n                    (input === \"\" && image) ||\n                    (input === \"\" && video) ||\n                    (input === \"\" && file)\n                      ? sendMessage\n                      : startRecording\n                  }\n                >\n                  {btnIcons}\n                </button>\n              ) : (\n                <>\n                  <label for=\"capture\" className=\"send__btn\">\n                    {btnIcons}\n                  </label>\n                  <input\n                    style={{ display: \"none\" }}\n                    type=\"file\"\n                    id=\"capture\"\n                    accept=\"audio/*\"\n                    capture\n                    onChange={audioInputChange}\n                  />\n                </>\n              )}\n            </div>\n          </form>\n          {recording ? (\n            <div ref={recordingEl} className=\"record\">\n              <CancelRounded\n                style={{\n                  width: 30,\n                  height: 30,\n                  color: \"#F20519\",\n                }}\n                onClick={stopRecording}\n              />\n              <div>\n                <div className=\"record__redcircle\"></div>\n                <div className=\"record__duration\">{recordingTimer}</div>\n              </div>\n              <CheckCircleRounded\n                style={{\n                  width: 30,\n                  height: 30,\n                  color: \"#41BF49\",\n                }}\n                onClick={finishRecording}\n              />\n            </div>\n          ) : null}\n        </div>\n      </div>\n    </ClickAwayListener>\n  );\n});\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMFSURBVHgBtVjtdeMgEJzk3f9TB6GDuAQ6OHdwdHDqIL4K7KtAdgW5q0C+CpxUEHfgdJCwZjdgjCQsoXlvnxFeYDR87KI7zIOFNW3tkcuVNRX8/2LtaO2ftT2Xk7hDOWhrP6wZJvTORF6ZwHvgq+DIa37eWNuhh+gUEJm1tQ9rrbUaTrXctsbaG9sShUEDHLhzPeCrrDVsdeRP/23hXvIJBdEwOZXhq9ifVD4xGWprAp8aBUlq7sxgHGgZbOGJKq43XKcxEaTEX0yHgl+Diuu2/DypU3rLUota1nIb9a8xErRWJr1hAhqXpIjwBiNBjRuUR0iKfg/3uB0KboHvUB5/4A53whFu6m+GhpuKUY1vgKFxxigomIPgCoWWjkSP0iQV/FFDG/GEkdBw0/yA+SBR5wsK+SHmGeWPGURcSD0TVsppPoQ1N87NWMZgjSjGG7gpU+hX8gmF4mQPlkjEeGLbBOWUkoobrjAfVMTlDA2vnkG3kuLXIC+9GgNJ3y5Oh3NI4XILz77FtZIG+Wv1Vih0pG8tk6zgMxTN5dRGkKSyNAwS5949kzjCkzkyQfqluEg7Ksz7fnK9QlnQhes/EgTlBibzLoO/8rOBuxoK6KpIL1MjH/G1s8vnBQmCoUMO9vx7yzTTy7QDPipVSQRFPWH/wHWP/LyLGu+t/eZBc0KdhlsW+wG/IzpEkiRRNonBdXabGlSOoxSono6olv2eMTxDW3TcceJjpk2UY8hpX0Wk6oDUifvWyMMBnscFNPyREpYVunOzigmQMhI3Q1JXgb4HFY/zgZ5E+A3+LtCnXAhSUd46VmqT2YfmsU9cpt9VytHgMsQ1mIbUEgixgFet5TEr+K8OKtUovJdOhcL1JqO6cI2Gnz0W8CH0KlkIO5iqXAhRh9apfIs58RiafeIvYwrDJ0RRgqJGHZHSTFxIx1Ep3BOzEvwFp8QSfnpFzZbrUut0xX650W00wdBCNYcGlqChMSMk+15gnBKTvs0MoYQC5wj3DfNAFNMYvxu/Y8abIxGU8DfFNp+iSgLDuYjTeQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKnSURBVHgBzVmNedowEH3pAvUI2qB0gmgENog2KBvgTgCdgGyQbBAyQdIJQiYwnYDq8N0nQbB1ZxzC+76LiTlJ734kncQNhsNHmUS55WfFQthG2bD8jbJmMeMGNhCBX1FmSGSQkdkgESWZHOmso/zmz6OCBltE2bG8RanRerEqtCWdJbeR9qsoDiPhLkrDHT/xgEPhuQ8xMuBMLLLOphgPAcmjCwwAhU0sfUI5jEPgojzwGA/WMaThEp+PGskRKkhYa1wOSyjDHZBcfmlISt11KTi0ifuGEZcAAyoeu0FHPtLaRBYEfB2m6Ai1gzFRPxES6gMvivc8vh4eJyap5J4GtBdbt6oJtwlKfcnFPTz0a57o7vIOlANKO6/Qr0X3W9bgETZsDbrWnWjNz301JLuGFgFtuCaGNo7bzJT6FXN6pHrwhV/+xHVhPycoxA62cF0KmygVESR3/sP14R1MkGCZkZfCd/pDBCm8DtcHiuz22gluiOArWoJdaxV9t8K4VbVDeTeiZeydCD5nL7oUA8atcjz3N+n5nvAq//RV0OQ5mkRjVjonK5YMUmF7eUEE+oqFe4xX7Xiks3EXPhQvdYGAQzLinFyUqnmH7vzzOGGA7H19YZyhbHkJUnfWPToSfnf8hcS974B+j3SoctCjgu4oG9DjBJkMpTCKIZqri4p1GgU5B8WhLUB3NglIuURP8s4MaTmiz6uMWINyqSUeDgU99SHacWcvSNXysZChNcoTaw7jTYYk6lypTwQ82vwNSBeaGshNhumyIE9q64SwjHH2BZVlQlgwRcrhsy+oQtYZWeoxHB7Jaw1GNNohrYHi0QXKZCU35zg8ei6hDKn1Et2hnZW3OMxLqjq2mbhMBPT+D5NTn4GsBHN4lh8ZmfxnCBIi/szPNQbgP7Zx5dnPeZ0fAAAAAElFTkSuQmCC\"","import { useState, useEffect, memo, useRef } from 'react';\nimport PlayArrowRoundedIcon from '@material-ui/icons/PlayArrowRounded';\nimport PauseRoundedIcon from '@material-ui/icons/PauseRounded';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport PlayForWorkRoundedIcon from '@material-ui/icons/PlayForWorkRounded';\nimport db from \"./firebase\";\nimport \"./AudioPlayer.css\"\n\nexport default memo(function AudioPlayer({sender, roomID, audioUrl, id, setAudioID, audioID, animState, audioPlayed}) {\n\tconst [isPlaying, setIsPlaying] = useState(false);\n\tconst [mediaLoaded, setMediaLoaded] = useState(false);\n\tconst [loaded, setLoaded] = useState(false);\n\tconst [metadataLoaded, setMetadataLoaded] = useState(false);\n\tconst [error, setError] = useState(false);\n\tconst [sliderValue, setSliderValue] = useState(0);\n\tconst [sliderPlayedWidth, setSliderPlayedWidth] = useState(\"0%\");\n\tconst [duration, setDuration] = useState(\"\");\n\tconst totalDuration = useRef(\"\");\n\tconst audio = useRef(new Audio(audioUrl));\n\tconst interval = useRef();\n\tconst uploading = useRef(audioUrl === \"uploading\");\n\n\tfunction play () {\n\t\taudio.current.play();\n\t\tif (!audioPlayed && !sender) {\n\t\t\tdb.collection(\"rooms\").doc(roomID).collection(\"messages\").doc(id).set({\n\t\t\t\taudioPlayed: true\n\t\t\t}, {merge: true});\n\t\t}\n\t\tif (audioID !== id) {\n\t\t\tsetAudioID(id);\n\t\t}\n\t\tinterval.current = setInterval(seekUpdate, 50);\n\t\tsetIsPlaying(true);\n\t}\n\n\tfunction pause() {\n\t\taudio.current.pause();\n\t\tclearInterval(interval.current);\n\t\tsetIsPlaying(false);\n\t\tsetDuration(totalDuration.current);\n\t}\n\n\tfunction inputChange(e) {\n\t\tconst value = e.target.value;\n\t\tif (mediaLoaded) {\n\t\t\tconst seekto = audio.current.duration * (value / 100);\n\t\t\taudio.current.currentTime = seekto;\n\t\t\tsetSliderValue(value);\n\t\t\tsetSliderPlayedWidth(`${value - 5.7 * (value / 100)}%`);\n\t\t}\n\t}\n\n\tfunction getCurrentTime() {\n\t\t// Calculate the time left and the total duration \n\t\tlet currentMinutes = Math.floor(audio.current.currentTime / 60); \n\t\tlet currentSeconds = Math.floor(audio.current.currentTime - currentMinutes * 60); \n\n\t\t// Add a zero to the single digit time values \n\t\tif (currentSeconds < 10) { currentSeconds = \"0\" + currentSeconds; } \n\t\tif (currentMinutes < 10) { currentMinutes = \"0\" + currentMinutes; } \n\n\t\t// Display the updated duration \n\t\treturn  currentMinutes + \":\" + currentSeconds; \n\t}\n\n\tfunction seekUpdate() { \n\t\tlet seekPosition = 0; \n\t\t// Check if the current track duration is a legible number \n\t\tif (!isNaN(audio.current.duration)) { \n\t\t\tseekPosition = audio.current.currentTime * (100 / audio.current.duration); \n\t\t\tsetSliderValue(seekPosition);\n\t\t\tsetSliderPlayedWidth(seekPosition + \"%\"); \n\t\t\tsetDuration(getCurrentTime());\n\t\t} \n\t}\n\n\tfunction loadAudioAgain() {\n\t\taudio.current.load();\n\t\tsetError(false);\n\t}\n\n\tfunction calculateMediaDuration(media){\n\t  return new Promise( (resolve,reject)=>{\n\t    media.onloadedmetadata = function(){\n\t      // set the mediaElement.currentTime  to a high value beyond its real duration\n\t      media.currentTime = Number.MAX_SAFE_INTEGER;\n\t      // listen to time position change\n\t      media.ontimeupdate = function(){\n\t        media.ontimeupdate = function(){};\n\t        // setting player currentTime back to 0 can be buggy too, set it first to .1 sec\n\t        media.currentTime = 0.1;\n\t        media.currentTime = 0;\n\t        // media.duration should now have its correct value, return it...\n\t        resolve(media.duration);\n\t      }\n\t    }\n\t  });\n\t};\n\t\n\tuseEffect(() => {\n\t\tif (uploading.current === true && audioUrl !== \"uploading\") {\n\t\t\taudio.current = new Audio(audioUrl);\n\t\t\taudio.current.load();\n\t\t\tsetLoaded(true);\n\t\t} else if (uploading.current === false) {\n\t\t\tsetLoaded(true);\n\t\t}\n\t}, [audioUrl]);\n\n\tuseEffect(() => {\n\t\tif (loaded) {\n\t\t\taudio.current.addEventListener(\"error\", () => {\n\t\t\t\tsetError(true);\n\t\t\t});\n\t\t\tcalculateMediaDuration(audio.current).then(() => {\n\t\t\t\tsetMetadataLoaded(true);\n\t\t\t})\n\t\t}\n\t}, [loaded]); \n\n\tuseEffect(() => {\n\t\tif (metadataLoaded) {\n\t\t\taudio.current.addEventListener(\"canplaythrough\", async () => {\n\t\t\t\tif (totalDuration.current === \"\") {\n\t\t\t\t\tsetMediaLoaded(true);\n\t\t\t\t\tlet durationMinutes = Math.floor(audio.current.duration / 60); \n\t\t\t\t\tlet durationSeconds = Math.floor(audio.current.duration - durationMinutes * 60); \n\t\t\t\t\t// Add a zero to the single digit time values \n\t\t\t\t\tif (durationSeconds < 10) { durationSeconds = \"0\" + durationSeconds; } \n\t\t\t\t\tif (durationMinutes < 10) { durationMinutes = \"0\" + durationMinutes; } \n\t\t\t\t\t// Display the updated duration \n\t\t\t\t\ttotalDuration.current = durationMinutes + \":\" + durationSeconds;\n\t\t\t\t\tsetDuration(totalDuration.current);\n\t\t\t\t}\n\t\t\t});\n\t\t\taudio.current.addEventListener(\"ended\", () => {\n\t\t\t\tclearInterval(interval.current);\n\t\t\t\tsetDuration(totalDuration.current);\n\t\t\t\tsetSliderValue(0);\n\t\t\t\tsetSliderPlayedWidth(\"0%\");\n\t\t\t\tsetIsPlaying(false);\n\t\t\t});\n\t\t}\n\t}, [metadataLoaded]);\n\n\tuseEffect(() => {\n\t\tif (animState === \"exiting\") {\n\t\t\taudio.current.pause();\n\t\t}\n\t}, [animState]);\n\n\tuseEffect(() => {\n\t\tif (audioID !== id) {\n\t\t\taudio.current.pause();\n\t\t\tsetIsPlaying(false);\n\t\t}\n\t}, [audioID])\n\n\treturn (\n\t\t<>\n\t\t\t<div className={`${sender ? \"audioplayer\" : \"audioplayer audioplayer2\"} ${audioPlayed ? \"audioplayer__played\" : \"\"}`}>\n\t\t\t\t{!mediaLoaded && !error ?\n\t\t\t\t\t<CircularProgress />\n\t\t\t\t: isPlaying && !error? \n\t\t\t\t\t<PauseRoundedIcon className=\"pause\" onClick={pause} /> \n\t\t\t\t: !isPlaying && !error ?\n\t\t\t\t\t<PlayArrowRoundedIcon onClick={play} />\n\t\t\t\t: \n\t\t\t\t\t<PlayForWorkRoundedIcon onClick={loadAudioAgain} />\n\t\t\t\t}\n\t\t\t\t<div>\n\t\t\t\t\t<span \n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\twidth: sliderPlayedWidth,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"audioplayer__slider--played\" \n\t\t\t\t\t></span>\n\t\t\t\t\t<input\t\n\t\t\t\t\t\ttype=\"range\" min=\"1\" max=\"100\" value={sliderValue}\n\t\t\t\t\t\tonChange={inputChange} class=\"audioplayer__slider\"\n\t\t\t\t\t></input>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<span className=\"chat__timestamp audioplayer__time\">{duration}</span>\n\t\t</>\n\t)\n})","export default __webpack_public_path__ + \"static/media/message_sent.3957aabd.mp3\";","export default __webpack_public_path__ + \"static/media/message_received.7170470c.mp3\";","import {\n  useState,\n  useEffect,\n  useLayoutEffect,\n  useRef,\n  memo,\n  useCallback,\n} from \"react\";\nimport { Avatar, IconButton } from \"@material-ui/core\";\nimport {\n  TransitionGroup,\n  Transition,\n  CSSTransition,\n} from \"react-transition-group\";\nimport {\n  AddPhotoAlternate,\n  MoreVert,\n  DoneAllRounded,\n  ArrowDownward,\n  ArrowBack,\n} from \"@material-ui/icons\";\nimport MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\nimport {\n  useParams,\n  useRouteMatch,\n  useLocation,\n  Link,\n  Route,\n  useHistory,\n} from \"react-router-dom\";\nimport db, {\n  createTimestamp,\n  fieldIncrement,\n  storage,\n  audioStorage,\n  videoStorage,\n  documentStorage,\n} from \"./firebase\";\nimport { useStateValue } from \"./StateProvider\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Button from \"@material-ui/core/Button\";\nimport voiceSearch from \"./icon/voice-rec-header.png\";\nimport bellNotification from \"./icon/bell-notif.png\";\nimport messageNotification from \"./icon/message-notif.png\";\nimport phone from \"./icon/phone-call.png\";\nimport videocall from \"./icon/video-call.png\";\nimport { ReactComponent as Calendar } from \"./icon/calendar.svg\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport ImgPreview from \"./ImgPreview\";\nimport VidPreview from \"./VidPreview\";\nimport DocPreview from \"./DocPreview\";\nimport ImagePreview from \"./ImagePreview\";\nimport VideoPreview from \"./VideoPreview\";\nimport DocumentPreview from \"./DocumentPreview\";\nimport ChatFooter from \"./ChatFooter\";\nimport Compressor from \"compressorjs\";\nimport anime from \"animejs/lib/anime.es.js\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport AudioPlayer from \"./AudioPlayer.js\";\nimport \"./Chat.css\";\nimport audio2 from \"./message_sent.mp3\";\nimport audio1 from \"./message_received.mp3\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport Popup from \"reactjs-popup\";\nimport \"reactjs-popup/dist/index.css\";\nimport { useSpeechRecognition, useSpeechSynthesis } from \"react-speech-kit\";\n\nfunction Chat({ animState, unreadMessages, b }) {\n  const [input, setInput] = useState(\"\");\n  const { roomID } = useParams();\n  const location = useLocation();\n  const match = useRouteMatch();\n  const [{ dispatchMessages, user, roomsData, page }, dispatch, actionTypes] =\n    useStateValue();\n  const [imagePreview, setImagePreview] = useState({});\n  const [videoPreview, setVideoPreview] = useState({});\n  const [filePreview, setFilePreview] = useState({});\n  const [messages, setMessages] = useState([]);\n  const [openHeaderMenu, setOpenHeaderMenu] = useState(null);\n  const [deletingRoom, setDeletingRoom] = useState(false);\n  const [deletingMessage, setDeletingMessage] = useState(false);\n  const [focus, setFocus] = useState(false);\n  const [token, setToken] = useState(\"\");\n  const [state, setState] = useState(location.state ? location.state : {});\n  const [seen, setSeen] = useState(false);\n  const [typing, setTyping] = useState(false);\n  const [videoSrc, setVideoSRC] = useState(\"\");\n  const [imgSrc, setImgSRC] = useState(\"\");\n  const [fileSrc, setFileSRC] = useState(\"\");\n  const [image, setImage] = useState(null);\n  const [video, setVideo] = useState(null);\n  //document initial state\n  const [file, setFile] = useState(null);\n  const [writeState, setWriteState] = useState(0);\n  const [ratio, setRatio] = useState(false);\n  const [scrollArrow, setScrollArrow] = useState(false);\n  const [clientWidth, setClientWidth] = useState(null);\n  const [firstRender, setFirstRender] = useState(false);\n  const [sendAnim, setSendAnim] = useState(false);\n  const [limitReached, setLimitReached] = useState(\n    Boolean(dispatchMessages[roomID]?.limitReached)\n  );\n  const history = useHistory();\n  const chatBodyRef = useRef();\n  const lastMessageRef = useRef();\n  const chatBodyContainer = useRef();\n  const chatAnim = useRef();\n  const mediaPreview = useRef();\n  const prevMessages = useRef([]);\n  const limit = useRef(30);\n  const prevScrollHeight = useRef(null);\n  const [audioID, setAudioID] = useState(null);\n  const paginating = useRef(null);\n  const paginating2 = useRef(null);\n  const [paginateLoader, setPaginateLoader] = useState(false);\n  const messageSentAudio = new Audio(audio2);\n  const messageReceivedAudio = new Audio(audio1);\n  const mediaSnap = useRef([]);\n  const mediaChecked = useRef(false);\n  const [messageValue, setMessageValue] = useState(\"\");\n  const { speak } = useSpeechSynthesis();\n  const [isCopied, setIsCopied] = useState(false);\n  const [searchMessage, setSearchMessage] = useState(\"\");\n  const [filteredMessage, setFilteredMessage] = useState([]);\n  const [searchResult, setSearchResult] = useState([]);\n\n  useEffect(() => {\n    const messageResults = filteredMessage.filter((res) =>\n      res.message.toLowerCase().includes(searchMessage.toLowerCase())\n    );\n    setMessages(messageResults);\n  }, [searchMessage]);\n\n  const { listen, listening, stop } = useSpeechRecognition({\n    onResult: (result) => {\n      setSearchMessage(result);\n    },\n  });\n\n  //console.log(match)\n  const change = (e) => {\n    clearTimeout(writeState);\n    setInput(e.target.value);\n    if (state?.userID) {\n      db.collection(\"rooms\")\n        .doc(roomID)\n        .set(\n          {\n            [user.uid]: true,\n          },\n          { merge: true }\n        )\n        .then(() => {\n          setWriteState(\n            setTimeout(() => {\n              db.collection(\"rooms\")\n                .doc(roomID)\n                .set(\n                  {\n                    [user.uid]: false,\n                  },\n                  { merge: true }\n                );\n            }, 1000)\n          );\n        });\n    }\n  };\n\n  const clickImagePreview = (event, src, ratio) => {\n    const target = event.target;\n    const node = target.parentNode.parentNode;\n    const obj = node.getBoundingClientRect();\n    setImagePreview({\n      ratio: ratio,\n      top:\n        page.transform === \"scale(1)\"\n          ? obj.top\n          : obj.top / (window.innerHeight / page.height),\n      left:\n        page.transform === \"scale(1)\"\n          ? obj.left\n          : obj.left / (window.innerWidth / page.width),\n      width: node.offsetWidth,\n      height: node.offsetHeight,\n      imgW: target.offsetWidth,\n      imgH: target.offsetHeight,\n      src,\n    });\n  };\n\n  const clickFilePreview = (event, src, ratio) => {\n    const target = event.target;\n    const node = target.parentNode.parentNode;\n    const obj = node.getBoundingClientRect();\n    setFilePreview({\n      ratio: ratio,\n      top:\n        page.transform === \"scale(1)\"\n          ? obj.top\n          : obj.top / (window.innerHeight / page.height),\n      left:\n        page.transform === \"scale(1)\"\n          ? obj.left\n          : obj.left / (window.innerWidth / page.width),\n      width: node.offsetWidth,\n      height: node.offsetHeight,\n      imgW: target.offsetWidth,\n      imgH: target.offsetHeight,\n      src,\n    });\n  };\n\n  const clickVideoPreview = (event, src, ratio) => {\n    const target = event.target;\n    const node = target.parentNode.parentNode;\n    const obj = node.getBoundingClientRect();\n    setVideoPreview({\n      ratio: ratio,\n      top:\n        page.transform === \"scale(1)\"\n          ? obj.top\n          : obj.top / (window.innerHeight / page.height),\n      left:\n        page.transform === \"scale(1)\"\n          ? obj.left\n          : obj.left / (window.innerWidth / page.width),\n      width: node.offsetWidth,\n      height: node.offsetHeight,\n      videoW: target.offsetWidth,\n      videoH: target.offsetHeight,\n      src,\n    });\n  };\n\n  //close img preview\n  const closeImage = () => {\n    mediaPreview.current.style.animation = \"opacity-out 300ms ease forwards\";\n    setTimeout(() => {\n      setImage(null);\n      setImgSRC(\"\");\n    }, 310);\n  };\n\n  //close document preview\n  const closeFile = () => {\n    mediaPreview.current.style.animation = \"opacity-out 300ms ease forwards\";\n    setTimeout(() => {\n      setFile(null);\n      setFileSRC(\"\");\n    }, 310);\n  };\n\n  //close video preview\n  const closeVideo = () => {\n    mediaPreview.current.style.animation = \"opacity-out 300ms ease forwards\";\n    setTimeout(() => {\n      setVideo(null);\n      setVideoSRC(\"\");\n    }, 310);\n  };\n\n  const handleVideo = (event) => {\n    if (window.navigator.onLine) {\n      if (event.target.files[0]) {\n        var reader = new FileReader();\n        reader.onload = function () {\n          setVideoSRC(reader.result);\n        };\n        reader.readAsDataURL(event.target.files[0]);\n        setVideo(event.target.files[0]);\n      }\n    } else {\n      alert(\"No internet access 🚫📶\");\n    }\n  };\n\n  const handleImg = (event) => {\n    if (window.navigator.onLine) {\n      if (event.target.files[0]) {\n        var reader = new FileReader();\n        reader.onload = function () {\n          setImgSRC(reader.result);\n        };\n        reader.readAsDataURL(event.target.files[0]);\n        setImage(event.target.files[0]);\n      }\n    } else {\n      alert(\"No internet access 🚫📶\");\n    }\n  };\n\n  //handle document\n  const handleFile = (event) => {\n    if (window.navigator.onLine) {\n      if (event.target.files[0]) {\n        var reader = new FileReader();\n        reader.onload = function () {\n          setFileSRC(reader.result);\n        };\n        reader.readAsDataURL(event.target.files[0]);\n        setFile(event.target.files[0]);\n      }\n    } else {\n      alert(\"No internet access 🚫📶\");\n    }\n  };\n\n  //window\n  const scrollChatBody = () => {\n    const nodeArr = Array.from(document.querySelectorAll(\".chat__message\"));\n    const height =\n      outerHeight(nodeArr[nodeArr.length - 2]) +\n      outerHeight(nodeArr[nodeArr.length - 3]) +\n      outerHeight(nodeArr[nodeArr.length - 4]);\n    const lastMHeight = height < page.height / 2 ? height : page.height / 2;\n    if (\n      chatBodyContainer.current.scrollHeight -\n        chatBodyContainer.current.offsetHeight ===\n      0\n    ) {\n      setTimeout(\n        () => {\n          if (chatBodyRef.current) {\n            chatBodyRef.current.style.opacity = \"1\";\n          }\n          setFirstRender(true);\n        },\n        animState === \"entering\" ? 350 : 50\n      );\n      setTimeout(() => {\n        const node = document.querySelector(\".chat .chat__lastMessage\");\n        if (node) {\n          node.style.animation = \"none\";\n          node.style.opacity = \"1\";\n        }\n      }, 50);\n    } else if (\n      chatBodyContainer.current.scrollTop +\n        outerHeight(nodeArr[nodeArr.length - 1]) >=\n        chatBodyContainer.current.scrollHeight -\n          chatBodyContainer.current.offsetHeight -\n          lastMHeight &&\n      messages[messages.length - 1].uid !== user.uid\n    ) {\n      if (\n        chatBodyContainer.current.scrollTop !==\n        chatBodyContainer.current.scrollHeight\n      ) {\n        //console.log(\"scrolling down 1\");\n        setSendAnim(true);\n        anime({\n          targets: chatBodyContainer.current,\n          scrollTop: chatBodyContainer.current.scrollHeight,\n          duration: 800,\n          easing: \"linear\",\n          complete: function () {\n            setSendAnim(false);\n          },\n        });\n      }\n    } else if (messages[messages.length - 1].uid === user.uid) {\n      if (\n        chatBodyContainer.current.scrollTop !==\n        chatBodyContainer.current.scrollHeight\n      ) {\n        //console.log(\"scrolling down 2\");\n        setSendAnim(true);\n        anime({\n          targets: chatBodyContainer.current,\n          scrollTop: chatBodyContainer.current.scrollHeight,\n          duration: 800,\n          easing: \"linear\",\n          complete: function () {\n            setSendAnim(false);\n          },\n        });\n      }\n    } else {\n      setScrollArrow(true);\n    }\n  };\n\n  function outerHeight(el) {\n    if (el) {\n      var height = el.offsetHeight;\n      var style = getComputedStyle(el);\n\n      height += parseInt(style.marginTop) + parseInt(style.marginBottom);\n      return height;\n    }\n    return null;\n  }\n\n  const sendMessage = async (event) => {\n    event.preventDefault();\n    if (focus) {\n      document.querySelector(\".chat__footer > form > div > div > input\").focus();\n    }\n    if (\n      input !== \"\" ||\n      (input === \"\" && image) ||\n      (input === \"\" && video) ||\n      (input === \"\" && file)\n    ) {\n      const inputText = input;\n      const imageToUpload = image;\n      const videoToUpload = video;\n      const fileToUpload = file;\n      if (imageToUpload) {\n        closeImage();\n      }\n      if (videoToUpload) {\n        closeVideo();\n      }\n      if (fileToUpload) {\n        closeFile();\n      }\n\n      setInput(\"\");\n      const roomInfo = {\n        lastMessage: imageToUpload\n          ? {\n              message: inputText,\n              audio: false,\n            }\n          : videoToUpload\n          ? {\n              message: inputText,\n              audio: false,\n            }\n          : fileToUpload\n          ? {\n              message: inputText,\n              audio: false,\n            }\n          : inputText,\n        seen: false,\n      };\n\n      db.collection(\"rooms\").doc(roomID).set(roomInfo, { merge: true });\n      var split, imageName, videoName, fileName;\n      if (imageToUpload) {\n        split = imageToUpload.name.split(\".\");\n        imageName = split[0] + uuidv4() + \".\" + split[1];\n      } else if (videoToUpload) {\n        split = videoToUpload.name.split(\".\");\n        videoName = split[0] + uuidv4() + \".\" + split[1];\n      } else if (fileToUpload) {\n        split = fileToUpload.name.split(\".\");\n        fileName = split[0] + uuidv4() + \".\" + split[1];\n      }\n\n      const messageToSend = imageToUpload\n        ? {\n            name: user.displayName,\n            message: input,\n            uid: user.uid,\n            timestamp: createTimestamp(),\n            time: new Date().toUTCString(),\n            imageUrl: \"uploading\",\n            imageName: imageName,\n            ratio: ratio,\n          }\n        : videoToUpload\n        ? {\n            name: user.displayName,\n            message: input,\n            uid: user.uid,\n            timestamp: createTimestamp(),\n            time: new Date().toUTCString(),\n            videoUrl: \"uploading\",\n            videoName: videoName,\n            ratio: ratio,\n          }\n        : fileToUpload\n        ? {\n            name: user.displayName,\n            message: input,\n            uid: user.uid,\n            timestamp: createTimestamp(),\n            time: new Date().toUTCString(),\n            fileUrl: \"uploading\",\n            fileName: fileName,\n            ratio: ratio,\n          }\n        : {\n            name: user.displayName,\n            message: input,\n            uid: user.uid,\n            timestamp: createTimestamp(),\n            time: new Date().toUTCString(),\n          };\n\n      if (state.userID) {\n        db.collection(\"users\")\n          .doc(state.userID)\n          .collection(\"chats\")\n          .doc(roomID)\n          .set(\n            {\n              timestamp: createTimestamp(),\n              photoURL: user.photoURL ? user.photoURL : null,\n              name: user.displayName,\n              userID: user.uid,\n              unreadMessages: fieldIncrement(1),\n            },\n            { merge: true }\n          );\n        db.collection(\"users\")\n          .doc(user.uid)\n          .collection(\"chats\")\n          .doc(roomID)\n          .set(\n            {\n              timestamp: createTimestamp(),\n              photoURL: state.photoURL ? state.photoURL : null,\n              name: state.name,\n              userID: state.userID,\n            },\n            { merge: true }\n          );\n        if (token !== \"\" && !imageToUpload && !videoToUpload && !fileToUpload) {\n          db.collection(\"notifications\").add({\n            userID: user.uid,\n            title: user.displayName,\n            body: inputText,\n            photoURL: user.photoURL,\n            token: token,\n          });\n        }\n      } else {\n        db.collection(\"users\")\n          .doc(user.uid)\n          .collection(\"chats\")\n          .doc(roomID)\n          .set({\n            timestamp: createTimestamp(),\n            photoURL: state.photoURL ? state.photoURL : null,\n            name: state.name,\n          });\n      }\n      const doc = await db\n        .collection(\"rooms\")\n        .doc(roomID)\n        .collection(\"messages\")\n        .add(messageToSend);\n      if (imageToUpload) {\n        new Compressor(imageToUpload, {\n          quality: 0.8,\n          maxWidth: 1920,\n          async success(result) {\n            setImgSRC(\"\");\n            setImage(null);\n            await storage.child(imageName).put(result);\n            const url = await storage.child(imageName).getDownloadURL();\n            db.collection(\"rooms\")\n              .doc(roomID)\n              .collection(\"messages\")\n              .doc(doc.id)\n              .update({\n                imageUrl: url,\n              });\n            if (state.userID && token !== \"\")\n              db.collection(\"notifications\").add({\n                userID: user.uid,\n                title: user.displayName,\n                body: inputText,\n                photoURL: user.photoURL,\n                token: token,\n                image: url,\n              });\n          },\n        });\n      } else if (videoToUpload) {\n        setVideoSRC(\"\");\n        setVideo(null);\n        await videoStorage.child(videoName).put(videoToUpload);\n        const url = await videoStorage.child(videoName).getDownloadURL();\n        db.collection(\"rooms\")\n          .doc(roomID)\n          .collection(\"messages\")\n          .doc(doc.id)\n          .update({\n            videoUrl: url,\n          });\n        if (state.userID && token !== \"\")\n          db.collection(\"notifications\").add({\n            userID: user.uid,\n            title: user.displayName,\n            body: inputText,\n            photoURL: user.photoURL,\n            token: token,\n            video: url,\n          });\n      } else if (fileToUpload) {\n        setFileSRC(\"\");\n        setFile(null);\n        await documentStorage.child(fileName).put(fileToUpload);\n        const url = await documentStorage.child(fileName).getDownloadURL();\n        db.collection(\"rooms\")\n          .doc(roomID)\n          .collection(\"messages\")\n          .doc(doc.id)\n          .update({\n            fileUrl: url,\n          });\n        if (state.userID && token !== \"\")\n          db.collection(\"notifications\").add({\n            userID: user.uid,\n            title: user.displayName,\n            body: inputText,\n            photoURL: user.photoURL,\n            token: token,\n            file: url,\n          });\n      }\n    }\n  };\n\n  const deleteRoom = async () => {\n    if (window.navigator.onLine) {\n      setOpenHeaderMenu(false);\n      setDeletingRoom(true);\n      try {\n        const room = db.collection(\"rooms\").doc(roomID);\n        const fetchedMessages = await room.collection(\"messages\").get();\n        const fetchedAudios = [];\n        const fecthedImages = [];\n        const fetchedVideos = [];\n        const fetchedFiles = [];\n        fetchedMessages.docs.forEach((doc) => {\n          if (doc.data().audioName) {\n            fetchedAudios.push(doc.data().audioName);\n          } else if (doc.data().imageName) {\n            fecthedImages.push(doc.data().imageName);\n          } else if (doc.data().videoName) {\n            fetchedVideos.push(doc.data().videoName);\n          } else if (doc.data().fileName) {\n            fetchedFiles.push(doc.data().fileName);\n          }\n        });\n        var usersChats = [];\n        if (state.userID) {\n          usersChats = [state.userID, user.uid];\n        } else {\n          usersChats = [\n            ...new Set(fetchedMessages.docs.map((cur) => cur.data().uid)),\n          ];\n        }\n        await Promise.all([\n          ...fetchedMessages.docs.map((doc) => doc.ref.delete()),\n          ...fecthedImages.map((img) => storage.child(img).delete()),\n          ...fetchedVideos.map((vid) => videoStorage.child(vid).delete()),\n          ...fetchedFiles.map((doc) => documentStorage.child(doc).delete()),\n          ...fetchedAudios.map((aud) => audioStorage.child(aud).delete()),\n          ...usersChats.map((userChat) =>\n            db\n              .collection(\"users\")\n              .doc(userChat)\n              .collection(\"chats\")\n              .doc(roomID)\n              .delete()\n          ),\n          room.delete(),\n        ]);\n        page.width <= 760 ? history.goBack() : history.replace(\"/chats\");\n      } catch (e) {\n        console.log(e.message);\n        page.width <= 760 ? history.goBack() : history.replace(\"/chats\");\n      }\n    } else {\n      alert(\"No internet access 🚫📶\");\n    }\n  };\n\n  const handleFocus = () => {\n    if (\n      chatBodyContainer.current.scrollTop >\n      chatBodyContainer.current.scrollHeight -\n        chatBodyContainer.current.offsetHeight -\n        120\n    ) {\n      chatBodyContainer.current.scrollTop =\n        chatBodyContainer.current.scrollHeight;\n    }\n  };\n\n  function fetchMessages(update) {\n    const ref = db\n      .collection(\"rooms\")\n      .doc(roomID)\n      .collection(\"messages\")\n      .orderBy(\"timestamp\", \"desc\");\n    if (update) {\n      b.current[roomID] = ref.limit(5).onSnapshot((snapshot) => {\n        const newMessages = snapshot.docs.map((doc) => {\n          const data = doc.data();\n          const time = data.time\n            ? data.time\n            : new Date(data.timestamp?.toDate()).toUTCString();\n          return {\n            ...data,\n            timestamp: time,\n            id: doc.id,\n          };\n        });\n        newMessages.reverse();\n        dispatch({\n          type: actionTypes.SET_MESSAGES,\n          id: roomID,\n          messages: newMessages,\n          update,\n        });\n      });\n    } else {\n      ref\n        .limit(limit.current)\n        .get()\n        .then((docs) => {\n          const newMessages = [];\n          docs.forEach((doc) => {\n            const data = doc.data();\n            const time = data.time\n              ? data.time\n              : new Date(data.timestamp?.toDate()).toUTCString();\n            newMessages.push({\n              ...data,\n              timestamp: time,\n              id: doc.id,\n            });\n          });\n          newMessages.reverse();\n          dispatch({\n            type: actionTypes.SET_MESSAGES,\n            id: roomID,\n            messages: newMessages,\n            update,\n          });\n        });\n    }\n  }\n\n  useEffect(() => {\n    if (deletingMessage == true) {\n      console.log(messages);\n      fetchMessages();\n    }\n  });\n\n  function paginate() {\n    if (\n      chatBodyContainer.current?.scrollTop === 0 &&\n      !limitReached &&\n      !paginating.current\n    ) {\n      setPaginateLoader(true);\n      prevScrollHeight.current = chatBodyContainer.current.scrollHeight;\n      paginating.current = true;\n      paginating2.current = true;\n      limit.current = messages.length + limit.current;\n      fetchMessages(false);\n    } else if (paginating2.current) {\n      prevScrollHeight.current =\n        chatBodyContainer.current.scrollHeight -\n        chatBodyContainer.current.scrollTop;\n    }\n  }\n\n  useEffect(() => {\n    if (messages.length > 0 && !deletingRoom) {\n      if (\n        messages[messages.length - 1].id !==\n          prevMessages.current[prevMessages.current?.length - 1]?.id &&\n        dispatchMessages[roomID]?.audio\n      ) {\n        if (\n          messages[messages.length - 1].uid !== user.uid &&\n          !paginating2.current &&\n          (messages[messages.length - 1].imageUrl === \"uploading\" ||\n            !messages[messages.length - 1].imageUrl)\n        ) {\n          messageReceivedAudio.play();\n        } else if (\n          messages[messages.length - 1].uid === user.uid &&\n          !paginating2.current &&\n          (messages[messages.length - 1].imageUrl === \"uploading\" ||\n            !messages[messages.length - 1].imageUrl) &&\n          (messages[messages.length - 1].audioUrl === \"uploading\" ||\n            !messages[messages.length - 1].audioUrl)\n        ) {\n          messageSentAudio.play();\n        }\n      } else if (\n        messages[messages.length - 1].id !==\n          prevMessages.current[prevMessages.current?.length - 1]?.id &&\n        dispatchMessages[roomID]?.audio\n      ) {\n        if (\n          messages[messages.length - 1].uid !== user.uid &&\n          !paginating2.current &&\n          (messages[messages.length - 1].videoUrl === \"uploading\" ||\n            !messages[messages.length - 1].videoUrl)\n        ) {\n          messageReceivedAudio.play();\n        } else if (\n          messages[messages.length - 1].uid === user.uid &&\n          !paginating2.current &&\n          (messages[messages.length - 1].videoUrl === \"uploading\" ||\n            !messages[messages.length - 1].videoUrl) &&\n          (messages[messages.length - 1].audioUrl === \"uploading\" ||\n            !messages[messages.length - 1].audioUrl)\n        ) {\n          messageSentAudio.play();\n        }\n      } else if (\n        messages[messages.length - 1].id !==\n          prevMessages.current[prevMessages.current?.length - 1]?.id &&\n        dispatchMessages[roomID]?.audio\n      ) {\n        if (\n          messages[messages.length - 1].uid !== user.uid &&\n          !paginating2.current &&\n          (messages[messages.length - 1].fileUrl === \"uploading\" ||\n            !messages[messages.length - 1].fileUrl)\n        ) {\n          messageReceivedAudio.play();\n        } else if (\n          messages[messages.length - 1].uid === user.uid &&\n          !paginating2.current &&\n          (messages[messages.length - 1].fileUrl === \"uploading\" ||\n            !messages[messages.length - 1].fileUrl) &&\n          (messages[messages.length - 1].audioUrl === \"uploading\" ||\n            !messages[messages.length - 1].audioUrl)\n        ) {\n          messageSentAudio.play();\n        }\n      }\n    }\n  }, [messages, deletingRoom, dispatchMessages[roomID]]);\n\n  useEffect(() => {\n    if (firstRender && !limitReached) {\n      chatBodyContainer.current.addEventListener(\"scroll\", paginate);\n    }\n    const clean = chatBodyContainer.current;\n    return () => {\n      clean.removeEventListener(\"scroll\", paginate);\n    };\n  }, [firstRender, limitReached]);\n\n  useEffect(\n    () => {\n      if (limitReached !== dispatchMessages[roomID]?.limitReached) {\n        //console.log(\"setting limit reached: \", Boolean(dispatchMessages[roomID]?.limitReached));\n        setLimitReached(Boolean(dispatchMessages[roomID]?.limitReached));\n      }\n    },\n    [dispatchMessages[roomID]],\n    limitReached\n  );\n\n  useLayoutEffect(() => {\n    //console.log(\"paginating: \", paginating.current)\n    if (messages.length > 0 && paginating.current) {\n      if (\n        paginating.current &&\n        messages.length > prevMessages.current?.length\n      ) {\n        chatBodyContainer.current.scrollTop =\n          chatBodyContainer.current.scrollHeight - prevScrollHeight.current;\n        paginating.current = false;\n        setPaginateLoader(false);\n      }\n    }\n  }, [messages]);\n\n  useEffect(() => {\n    if (messages.length > 0) {\n      if (\n        !firstRender &&\n        chatBodyContainer.current.scrollHeight -\n          chatBodyContainer.current.offsetHeight !==\n          0\n      ) {\n        chatBodyContainer.current.scrollTop =\n          chatBodyContainer.current.scrollHeight;\n        setTimeout(() => {\n          const node = document.querySelector(\".chat .chat__lastMessage\");\n          if (node) {\n            node.style.animation = \"none\";\n            node.style.opacity = \"1\";\n          }\n          setTimeout(() => {\n            setFirstRender(true);\n          }, 200);\n        }, 50);\n      } else {\n        //console.log(\"messages: \", messages);\n        //console.log(\"previous messages: \", prevMessages.current);\n        //console.log(\"paginating2: \", paginating2.current)\n        if (!paginating2.current) {\n          scrollChatBody();\n        }\n      }\n    }\n  }, [messages]);\n\n  function listenToImg(docID) {\n    return db\n      .collection(\"rooms\")\n      .doc(roomID)\n      .collection(\"messages\")\n      .doc(docID)\n      .onSnapshot((doc) => {\n        //console.log(\"image snap set\");\n        //console.log(\"image data: \", doc.data());\n        const { imageUrl } = doc.data();\n        if (imageUrl !== \"uploading\") {\n          //console.log(\"dispatching the image\");\n          dispatch({\n            type: \"update_media\",\n            roomID: roomID,\n            id: docID,\n            data: { imageUrl },\n          });\n          //console.log(\"unsubscribing from image snap: \", docID);\n          mediaSnap.current = mediaSnap.current.filter((cur) => {\n            if (cur.id !== docID) {\n              return true;\n            }\n            cur.snap();\n            return false;\n          });\n        }\n      });\n  }\n\n  function listenToVideo(docID) {\n    //console.log(\"listen to video function\")\n    const s = db\n      .collection(\"rooms\")\n      .doc(roomID)\n      .collection(\"messages\")\n      .doc(docID)\n      .onSnapshot((doc) => {\n        //console.log(\"video snap set\");\n        //console.log(\"video data: \", doc.data());\n        const { videoUrl } = doc.data();\n        if (videoUrl !== \"uploading\") {\n          //console.log(\"dispatching video\");\n          dispatch({\n            type: \"update_media\",\n            roomID: roomID,\n            id: docID,\n            data: {\n              videoUrl,\n            },\n          });\n        }\n        if (videoUrl !== \"uploading\") {\n          //console.log(\"unsubscribing from video snap: \", docID);\n          mediaSnap.current = mediaSnap.current.filter((cur) => {\n            if (cur.id !== docID) {\n              return true;\n            }\n            cur.snap();\n            return false;\n          });\n        }\n      });\n    return s;\n  }\n\n  function listenToFile(docID) {\n    return db\n      .collection(\"rooms\")\n      .doc(roomID)\n      .collection(\"messages\")\n      .doc(docID)\n      .onSnapshot((doc) => {\n        //console.log(\"file snap set\");\n        //console.log(\"file data: \", doc.data());\n        const { fileUrl } = doc.data();\n        if (fileUrl !== \"uploading\") {\n          //console.log(\"dispatching the file\");\n          dispatch({\n            type: \"update_media\",\n            roomID: roomID,\n            id: docID,\n            data: { fileUrl },\n          });\n          //console.log(\"unsubscribing from file snap: \", docID);\n          mediaSnap.current = mediaSnap.current.filter((cur) => {\n            if (cur.id !== docID) {\n              return true;\n            }\n            cur.snap();\n            return false;\n          });\n        }\n      });\n  }\n\n  function listenToAudio(docID) {\n    //console.log(\"listen to audio function\")\n    const s = db\n      .collection(\"rooms\")\n      .doc(roomID)\n      .collection(\"messages\")\n      .doc(docID)\n      .onSnapshot((doc) => {\n        //console.log(\"audio snap set\");\n        //console.log(\"audio data: \", doc.data());\n        const { audioUrl } = doc.data();\n        if (audioUrl !== \"uploading\") {\n          //console.log(\"dispatching audio\");\n          dispatch({\n            type: \"update_media\",\n            roomID: roomID,\n            id: docID,\n            data: {\n              audioUrl,\n            },\n          });\n        }\n        if (audioUrl !== \"uploading\") {\n          //console.log(\"unsubscribing from audio snap: \", docID);\n          mediaSnap.current = mediaSnap.current.filter((cur) => {\n            if (cur.id !== docID) {\n              return true;\n            }\n            cur.snap();\n            return false;\n          });\n        }\n      });\n    return s;\n  }\n\n  useEffect(() => {\n    return () => {\n      dispatch({ type: \"set_audio_false\", id: roomID });\n    };\n  }, [roomID]);\n\n  useEffect(() => {\n    if (messages.length > 0 && firstRender && !mediaChecked.current) {\n      //console.log(\"checking media\");\n      messages.forEach((cur) => {\n        if (cur.imageUrl === \"uploading\") {\n          //console.log(\"listening to an image\");\n          const x = listenToImg(cur.id);\n          mediaSnap.current.push({\n            snap: x,\n            id: cur.id,\n          });\n        } else if (cur.audioUrl === \"uploading\" || cur.audioPlayed === false) {\n          //console.log(\"listening to audio\");\n          const x = listenToAudio(cur.id);\n          mediaSnap.current.push({\n            snap: x,\n            id: cur.id,\n          });\n        } else if (cur.videoUrl === \"uploading\" || cur.videoPlayed === false) {\n          //console.log(\"listening to video\");\n          const x = listenToVideo(cur.id);\n          mediaSnap.current.push({\n            snap: x,\n            id: cur.id,\n          });\n        } else if (cur.fileUrl === \"uploading\") {\n          //console.log(\"listening to a file\");\n          const x = listenToFile(cur.id);\n          mediaSnap.current.push({\n            snap: x,\n            id: cur.id,\n          });\n        }\n      });\n      mediaChecked.current = true;\n    } else if (\n      messages.length > prevMessages.current.length &&\n      firstRender &&\n      mediaChecked.current\n    ) {\n      //console.log(\"checking updates\")\n      let init = 0;\n      let stop = messages.length - prevMessages.length;\n      if (prevMessages.current[0]?.id === messages[0].id) {\n        init = prevMessages.current.length;\n        stop = messages.length;\n      }\n      for (var i = init; i < stop; i++) {\n        if (messages[i].imageUrl === \"uploading\") {\n          //console.log(\"listening to an image\");\n          const x = listenToImg(messages[i].id);\n          mediaSnap.current.push({\n            snap: x,\n            id: messages[i].id,\n          });\n        } else if (\n          messages[i].audioUrl === \"uploading\" ||\n          messages[i].audioPlayed === false\n        ) {\n          //console.log(\"listening to audio\");\n          const x = listenToAudio(messages[i].id);\n          mediaSnap.current.push({\n            snap: x,\n            id: messages[i].id,\n          });\n        } else if (\n          messages[i].videoUrl === \"uploading\" ||\n          messages[i].videoPlayed === false\n        ) {\n          //console.log(\"listening to video\");\n          const x = listenToVideo(messages[i].id);\n          mediaSnap.current.push({\n            snap: x,\n            id: messages[i].id,\n          });\n        } else if (messages[i].fileUrl === \"uploading\") {\n          //console.log(\"listening to a file\");\n          const x = listenToFile(messages[i].id);\n          mediaSnap.current.push({\n            snap: x,\n            id: messages[i].id,\n          });\n        }\n      }\n    }\n  }, [messages, firstRender]);\n\n  useEffect(() => {\n    return () => {\n      //console.log(\"cleaning media snap\");\n      mediaSnap.current.forEach((cur) => cur.snap());\n      setFirstRender(false);\n    };\n  }, [roomID]);\n\n  useEffect(() => {\n    paginating2.current = paginating.current;\n    prevMessages.current = [...messages];\n  }, [messages]);\n\n  useEffect(() => {\n    if (roomID && !deletingRoom) {\n      if (b.current[roomID]) {\n        //console.log(\"snapshot listener already exists\");\n        b.current[roomID]();\n      }\n      //console.log(\"first message from fetch effect: \", dispatchMessages[roomID]?.firstMessageID);\n      if (dispatchMessages[roomID]?.firstMessageID) {\n        fetchMessages(true);\n      } else {\n        db.collection(\"rooms\")\n          .doc(roomID)\n          .collection(\"messages\")\n          .orderBy(\"timestamp\", \"asc\")\n          .limit(1)\n          .get()\n          .then((docs) => {\n            //console.log(\"doc: \", docs);\n            if (docs.empty) {\n              dispatch({\n                type: \"set_firstMessage\",\n                id: roomID,\n                firstMessageID: \"no id\",\n              });\n            } else {\n              docs.forEach((doc) => {\n                //console.log(\"doc.exists: \", doc.exists);\n                //console.log(\"first document id: \", doc.id);\n                //console.log(\"first document data: \", doc.data());\n                dispatch({\n                  type: \"set_firstMessage\",\n                  id: roomID,\n                  firstMessageID: doc.id,\n                });\n              });\n            }\n            fetchMessages(false);\n            fetchMessages(true);\n          });\n      }\n    }\n  }, [roomID, deletingRoom]);\n\n  useEffect(() => {\n    if (imgSrc !== \"\") {\n      const width = document.querySelector(\".mediaPreview img\").clientWidth;\n      const height = document.querySelector(\".mediaPreview img\").clientHeight;\n      setRatio(height / width);\n    }\n  }, [imgSrc]);\n\n  useEffect(() => {\n    if (videoSrc !== \"\") {\n      const width = document.querySelector(\".mediaPreview video\").clientWidth;\n      const height = document.querySelector(\".mediaPreview video\").clientHeight;\n      setRatio(height / width);\n    }\n  }, [videoSrc]);\n\n  useEffect(() => {\n    if (fileSrc !== \"\") {\n      const width = document.querySelector(\".mediaPreview svg\").clientWidth;\n      const height = document.querySelector(\".mediaPreview svg\").clientHeight;\n      setRatio(height / width);\n    }\n  }, [fileSrc]);\n\n  useEffect(() => {\n    setClientWidth(\n      document.querySelector(\".chat__body--container\").clientWidth\n    );\n  }, []);\n  //window\n  useEffect(() => {\n    if (animState === \"entering\" && page.width <= 760) {\n      setTimeout(() => {\n        document.querySelector(\".chat\").classList.add(\"chat-animate\");\n      }, 0);\n    } else if (animState === \"entered\" && state?.name && page.width <= 760) {\n      setTimeout(() => {\n        document.querySelector(\".sidebar\").classList.remove(\"side\");\n      }, 50);\n    } else if (animState === \"exiting\" && page.width <= 760) {\n      setTimeout(() => {\n        document.querySelector(\".chat\").classList.remove(\"chat-animate\");\n        setTimeout(() => {\n          document.querySelector(\".sidebar\").classList.add(\"side\");\n        }, 10);\n      }, 0);\n    }\n  }, [animState]);\n\n  useEffect(() => {\n    if (!location.state && roomID) {\n      const userID = roomID?.replace(user.uid, \"\");\n      db.collection(\"users\")\n        .doc(userID)\n        .get()\n        .then((doc) => {\n          const data = doc.data();\n          setState(\n            data?.name\n              ? {\n                  name: data.name,\n                  photoURL: data.photoURL,\n                  userID,\n                }\n              : {\n                  userID,\n                }\n          );\n        });\n    } else {\n      setState(location.state);\n    }\n  }, [location.state, roomID]);\n\n  useEffect(() => {\n    if (state?.userID) {\n      db.collection(\"users\")\n        .doc(state.userID)\n        .onSnapshot((doc) => {\n          if (doc.data()?.token) {\n            setToken(doc.data().token);\n          }\n        });\n    }\n  }, [state]);\n\n  useEffect(() => {\n    if (roomID && state?.userID) {\n      var h = db\n        .collection(\"rooms\")\n        .doc(roomID)\n        .onSnapshot((snap) => {\n          if (snap.data()) {\n            setTyping(snap.data()[state.userID]);\n          }\n        });\n    }\n\n    return () => {\n      if (h) h();\n    };\n  }, [roomID, state]);\n\n  useEffect(() => {\n    if (roomID) {\n      var z = db\n        .collection(\"rooms\")\n        .doc(roomID)\n        .onSnapshot((snap) => {\n          setSeen(snap.data()?.seen);\n        });\n    }\n\n    return () => {\n      if (z) {\n        z();\n      }\n    };\n  }, [roomID]);\n\n  //setSender\n  //window\n  useEffect(() => {\n    var a = () => {\n      const nodeArr = Array.from(document.querySelectorAll(\".chat__message\"));\n      const height =\n        outerHeight(nodeArr[nodeArr.length - 1]) +\n        outerHeight(nodeArr[nodeArr.length - 2]) +\n        outerHeight(nodeArr[nodeArr.length - 3]) +\n        outerHeight(nodeArr[nodeArr.length - 4]);\n      const lastMHeight = height < page.height / 2 ? height : page.height / 2;\n      if (\n        chatBodyContainer.current?.scrollTop <=\n        chatBodyContainer.current?.scrollHeight -\n          chatBodyContainer.current?.offsetHeight -\n          lastMHeight\n      ) {\n        setScrollArrow(true);\n      } else {\n        setScrollArrow(false);\n      }\n      const scrollTop = Math.round(chatBodyContainer.current.scrollTop);\n      const scrollHeight =\n        chatBodyContainer.current.scrollHeight -\n        chatBodyContainer.current.offsetHeight;\n      if (\n        (scrollTop === scrollHeight ||\n          scrollTop + 1 === scrollHeight ||\n          scrollTop - 1 === scrollHeight) &&\n        (chatBodyRef.current.style.opacity === \"0\" ||\n          chatBodyRef.current.style.opacity === \"\")\n      ) {\n        setTimeout(\n          () => {\n            if (chatBodyRef.current) {\n              chatBodyRef.current.style.opacity = \"1\";\n            }\n          },\n          animState === \"entering\" ? 350 : 50\n        );\n      }\n      if (messages.length > 0) {\n        if (\n          chatBodyContainer.current.scrollTop >\n            chatBodyContainer.current.scrollHeight -\n              chatBodyContainer.current.offsetHeight -\n              180 &&\n          state.userID &&\n          !seen &&\n          messages[messages.length - 1].uid !== user.uid\n        ) {\n          console.log(\"setting seen true with event\");\n          db.collection(\"rooms\").doc(roomID).set(\n            {\n              seen: true,\n            },\n            { merge: true }\n          );\n        }\n        if (\n          chatBodyContainer.current.scrollTop >\n            chatBodyContainer.current.scrollHeight -\n              chatBodyContainer.current.offsetHeight -\n              180 &&\n          state.userID\n        ) {\n          db.collection(\"users\")\n            .doc(user.uid)\n            .collection(\"chats\")\n            .doc(roomID)\n            .set(\n              {\n                unreadMessages: 0,\n              },\n              { merge: true }\n            );\n        }\n      }\n    };\n    chatBodyContainer.current.addEventListener(\"scroll\", a);\n    const ref = chatBodyContainer.current;\n\n    return () => {\n      ref.removeEventListener(\"scroll\", a);\n    };\n  }, [messages, state, user.uid, roomID, seen]);\n\n  //setting seen and unreadMessages when chat is unscrollable\n  useEffect(() => {\n    if (messages.length > 0) {\n      if (\n        chatBodyContainer.current.scrollHeight -\n          chatBodyContainer.current.offsetHeight ===\n          0 &&\n        messages[messages.length - 1].uid !== user.uid\n      ) {\n        db.collection(\"rooms\").doc(roomID).set(\n          {\n            seen: true,\n          },\n          { merge: true }\n        );\n      }\n    }\n  }, [messages]);\n\n  useEffect(() => {\n    if (messages.length > 0) {\n      if (\n        chatBodyContainer.current.scrollHeight -\n          chatBodyContainer.current.offsetHeight ===\n          0 &&\n        state.userID\n      ) {\n        db.collection(\"users\")\n          .doc(user.uid)\n          .collection(\"chats\")\n          .doc(roomID)\n          .set(\n            {\n              unreadMessages: 0,\n            },\n            { merge: true }\n          );\n      }\n    }\n  }, [messages, state]);\n\n  useEffect(() => {\n    if (dispatchMessages[roomID]?.messages) {\n      setMessages(dispatchMessages[roomID].messages);\n      setFilteredMessage(dispatchMessages[roomID].messages);\n    }\n  }, [dispatchMessages[roomID]]);\n\n  const onCopyText = () => {\n    setIsCopied(true);\n    setTimeout(() => {\n      setIsCopied(false);\n    }, 1000);\n  };\n\n  //window\n  const widthRatio = 0.7;\n\n  return (\n    <>\n      <div\n        style={!roomID ? { display: \"none\" } : {}}\n        ref={chatAnim}\n        className=\"chat\"\n      >\n        <div\n          style={{\n            height: page.height,\n          }}\n          className=\"chat__background\"\n        ></div>\n\n        {page.width >= 760 ? (\n          <div className=\"chat__header\">\n            <div className=\"headerbar__search\">\n              <form className=\"headerbar__search--container\">\n                <input\n                  value={searchMessage}\n                  onChange={(e) => setSearchMessage(e.target.value)}\n                  placeholder=\"Search Messages, Files and more...\"\n                  type=\"text\"\n                />\n                <img\n                  src={voiceSearch}\n                  alt=\"Speak to search\"\n                  title=\"Speak to search\"\n                  onMouseDown={listen}\n                  onMouseUp={stop}\n                />\n              </form>\n            </div>\n\n            <div className=\"firstChat__header--info\">\n              <div className=\"firstChat__header--avatar\">\n                <Avatar src={user?.photoURL} title={user?.displayName} />\n                <h3>{user?.displayName}</h3>\n              </div>\n            </div>\n\n            <div class=\"firstChat__header--vl\"></div>\n\n            <div className=\"firstChat__header--right\">\n              <img\n                src={messageNotification}\n                alt=\"New messages\"\n                title=\"New messages\"\n                className=\"notif-icon\"\n              />\n              <img\n                src={bellNotification}\n                alt=\"New notifications\"\n                title=\"New notifications\"\n                className=\"notif-icon\"\n              />\n            </div>\n          </div>\n        ) : null}\n\n        <div className=\"chat__header\">\n          {page.width <= 760 ? (\n            <IconButton onClick={() => setTimeout(() => history.goBack(), 150)}>\n              <ArrowBack />\n              <div className=\"avatar__container\">\n                <Avatar src={state?.photoURL} />\n                {roomsData[roomID]?.onlineState === \"online\" ? (\n                  <div className=\"online\"></div>\n                ) : null}\n              </div>\n            </IconButton>\n          ) : (\n            <div>\n              <div className=\"avatar__container\">\n                <Avatar src={state?.photoURL} />\n                {roomsData[roomID]?.onlineState === \"online\" ? (\n                  <div className=\"online\"></div>\n                ) : null}\n              </div>\n            </div>\n          )}\n          <div className=\"chat__header--info\">\n            <h3 style={page.width <= 760 ? { width: page.width - 165 } : {}}>\n              {state?.name}{\" \"}\n            </h3>\n            <p style={page.width <= 760 ? { width: page.width - 165 } : {}}>\n              {typing === \"recording\"\n                ? \"Recording ...\"\n                : typing\n                ? \"Typing ...\"\n                : messages?.length > 0\n                ? \"Seen at \" + messages[messages.length - 1]?.timestamp\n                : \"\"}{\" \"}\n            </p>\n          </div>\n\n          <div className=\"chat__header--right\">\n          {page.width >= 760 ? (\n            <div className=\"secondChat__header--center\">\n              <img\n                src={phone}\n                alt=\"Make a voice call\"\n                title=\"Make a voice call\"\n                className=\"second__center--icon\"\n              />\n              <img\n                src={videocall}\n                alt=\"Make a video call\"\n                title=\"Make a video call\"\n                className=\"second__center--icon\"\n              />\n              <Calendar title=\"Calendar\" className=\"second__center--icon\" />\n            </div>\n          ) : null}\n            <IconButton\n              aria-controls=\"menu\"\n              aria-haspopup=\"true\"\n              onClick={(event) => setOpenHeaderMenu(event.currentTarget)}\n            >\n              <MoreVert />\n            </IconButton>\n            <Menu\n              anchorEl={openHeaderMenu}\n              id={\"menu\"}\n              open={Boolean(openHeaderMenu)}\n              onClose={() => setOpenHeaderMenu(null)}\n              keepMounted\n            >\n              {page.width <= 760 ? (\n                <div className=\"sidebar__search\">\n                  <form className=\"sidebar__search--container\">\n                    <input\n                      value={searchMessage}\n                      onChange={(e) => setSearchMessage(e.target.value)}\n                      placeholder=\"Search Messages...\"\n                      type=\"text\"\n                    />\n                  </form>\n                </div>\n              ) : null}\n              <MenuItem onClick={deleteRoom}>Delete Room</MenuItem>\n              <MenuItem>View Profile</MenuItem>\n              <MenuItem>Select Chat</MenuItem>\n              <MenuItem>Mute Notification</MenuItem>\n            </Menu>\n          </div>\n        </div>\n\n        <div className=\"chat__body--container\" ref={chatBodyContainer}>\n          <div className=\"chat__body\" ref={chatBodyRef}>\n            <div\n              className=\"loader__container paginateLoader\"\n              style={{\n                height: !limitReached ? 70 : 30,\n              }}\n            >\n              {paginateLoader && !limitReached ? <CircularProgress /> : null}\n            </div>\n            {messages.map((message, i, messageArr) => {\n              const style = message.imageUrl\n                ? {\n                    marginBottom: !messageArr[i + 1]\n                      ? 0\n                      : message.uid !== messageArr[i + 1].uid\n                      ? 30\n                      : 8,\n                    width: clientWidth * widthRatio + 20,\n                    maxWidth: 320,\n                  }\n                : {\n                    marginBottom: !messageArr[i + 1]\n                      ? 0\n                      : message.uid !== messageArr[i + 1].uid\n                      ? 30\n                      : 8,\n                    width: clientWidth * widthRatio + 20,\n                    maxWidth: 320,\n                  };\n\n              //delete message\n              const deleteMessage = async () => {\n                if (window.navigator.onLine) {\n                  setDeletingMessage(true);\n                  if (message.imageName) {\n                    await db\n                      .collection(\"rooms\")\n                      .doc(roomID)\n                      .collection(\"messages\")\n                      .doc(message.id)\n                      .delete()\n                      .then(() => {\n                        setDeletingMessage(false);\n                        storage.child(message.imageName).delete();\n                        console.log(\"Image with Id \" + message.id + \" deleted\");\n                      })\n                      .catch((error) => {\n                        console.log(error.message);\n                      });\n                  } else if (message.videoName) {\n                    await db\n                      .collection(\"rooms\")\n                      .doc(roomID)\n                      .collection(\"messages\")\n                      .doc(message.id)\n                      .delete()\n                      .then(() => {\n                        setDeletingMessage(false);\n                        videoStorage.child(message.videoName).delete();\n                        console.log(\"Video with Id \" + message.id + \" deleted\");\n                      })\n                      .catch((error) => {\n                        console.log(error.message);\n                      });\n                  } else if (message.fileName) {\n                    await db\n                      .collection(\"rooms\")\n                      .doc(roomID)\n                      .collection(\"messages\")\n                      .doc(message.id)\n                      .delete()\n                      .then(() => {\n                        setDeletingMessage(false);\n                        documentStorage.child(message.fileName).delete();\n                        console.log(\n                          \"Document with Id \" + message.id + \" deleted\"\n                        );\n                      })\n                      .catch((error) => {\n                        console.log(error.message);\n                      });\n                  } else if (message.audioName) {\n                    await db\n                      .collection(\"rooms\")\n                      .doc(roomID)\n                      .collection(\"messages\")\n                      .doc(message.id)\n                      .delete()\n                      .then(() => {\n                        setDeletingMessage(false);\n                        audioStorage.child(message.audioName).delete();\n                        console.log(\"Audio with Id \" + message.id + \" deleted\");\n                      })\n                      .catch((error) => {\n                        console.log(error.message);\n                      });\n                  } else {\n                    await db\n                      .collection(\"rooms\")\n                      .doc(roomID)\n                      .collection(\"messages\")\n                      .doc(message.id)\n                      .delete()\n                      .then(() => {\n                        setDeletingMessage(false);\n                        console.log(\n                          \"Message with Id \" + message.id + \" deleted\"\n                        );\n                      })\n                      .catch((error) => {\n                        console.log(error.message);\n                      });\n                  }\n                } else {\n                  alert(\"No internet access 🚫📶\");\n                }\n              };\n\n              return (\n                <div\n                  style={style}\n                  ref={\n                    i === messages.length - 1 &&\n                    !(seen && messages[messages.length - 1].uid === user.uid)\n                      ? lastMessageRef\n                      : null\n                  }\n                  key={message.id}\n                  className={`chat__message ${\n                    message.uid === user.uid && \"chat__reciever\"\n                  } ${i === messages.length - 1 ? \"chat__lastMessage\" : \"\"}`}\n                >\n                  <span className=\"chat__name\">{message.name}</span>\n                  <div className=\"message_menu--right\">\n                    <Popup\n                      trigger={<MoreHorizIcon style={{ cursor: \"pointer\" }} />}\n                      position=\"left center\"\n                    >\n                      <MenuItem\n                        onClick={() => speak({ text: message.message })}\n                      >\n                        Read message\n                      </MenuItem>\n                      <MenuItem\n                        onClick={() => {\n                          navigator.clipboard.writeText(message.message);\n                        }}\n                      >\n                        <CopyToClipboard onCopy={onCopyText}>\n                          <span>\n                            {isCopied ? (\n                              <span style={{ color: \"green\" }}>Copied!</span>\n                            ) : (\n                              \"Copy message\"\n                            )}\n                          </span>\n                        </CopyToClipboard>\n                      </MenuItem>\n                      <MenuItem>Bookmark</MenuItem>\n                      <MenuItem onClick={deleteMessage}>Delete</MenuItem>\n                      <MenuItem>Report</MenuItem>\n                    </Popup>\n                  </div>\n                  {/*image message*/}\n                  {message.imageUrl === \"uploading\" ? (\n                    <div\n                      style={{\n                        width: clientWidth * widthRatio,\n                        height:\n                          message.ratio <= 1\n                            ? clientWidth * widthRatio > 300\n                              ? 300 * message.ratio\n                              : clientWidth * widthRatio * message.ratio\n                            : clientWidth * widthRatio < 300\n                            ? clientWidth * widthRatio\n                            : 300,\n                      }}\n                      className=\"image-container\"\n                    >\n                      <div className=\"image__container--loader\">\n                        <CircularProgress\n                          style={{\n                            width: page.width <= 760 ? 40 : 80,\n                            height: page.width <= 760 ? 40 : 80,\n                          }}\n                        />\n                      </div>\n                    </div>\n                  ) : message.imageUrl ? (\n                    <div\n                      className=\"image-container\"\n                      style={{\n                        width: clientWidth * widthRatio,\n                        height:\n                          message.ratio <= 1\n                            ? clientWidth * widthRatio > 300\n                              ? 300 * message.ratio\n                              : clientWidth * widthRatio * message.ratio\n                            : clientWidth * widthRatio < 300\n                            ? clientWidth * widthRatio\n                            : 300,\n                      }}\n                    >\n                      <Link\n                        to={{\n                          pathname: match.url + \"/image\",\n                          state: state,\n                        }}\n                      >\n                        <img\n                          onClick={(e) =>\n                            clickImagePreview(\n                              e,\n                              message.imageUrl,\n                              message.ratio\n                            )\n                          }\n                          src={message.imageUrl}\n                          alt=\"Image\"\n                          title={message.imageName}\n                        />\n                      </Link>\n                    </div>\n                  ) : null}\n\n                  {/*video message*/}\n                  {message.videoUrl === \"uploading\" ? (\n                    <div\n                      style={{\n                        width: clientWidth * widthRatio,\n                        height:\n                          message.ratio <= 1\n                            ? clientWidth * widthRatio > 300\n                              ? 300 * message.ratio\n                              : clientWidth * widthRatio * message.ratio\n                            : clientWidth * widthRatio < 300\n                            ? clientWidth * widthRatio\n                            : 300,\n                      }}\n                      className=\"image-container\"\n                    >\n                      <div className=\"image__container--loader\">\n                        <CircularProgress\n                          style={{\n                            width: page.width <= 760 ? 40 : 80,\n                            height: page.width <= 760 ? 40 : 80,\n                          }}\n                        />\n                      </div>\n                    </div>\n                  ) : message.videoUrl ? (\n                    <div\n                      className=\"image-container\"\n                      style={{\n                        width: clientWidth * widthRatio,\n                        height:\n                          message.ratio <= 1\n                            ? clientWidth * widthRatio > 300\n                              ? 300 * message.ratio\n                              : clientWidth * widthRatio * message.ratio\n                            : clientWidth * widthRatio < 300\n                            ? clientWidth * widthRatio\n                            : 300,\n                      }}\n                    >\n                      <Link\n                        to={{\n                          pathname: match.url + \"/video\",\n                          state: state,\n                        }}\n                      >\n                        <video\n                          controls\n                          onClick={(e) =>\n                            clickVideoPreview(\n                              e,\n                              message.videoUrl,\n                              message.ratio\n                            )\n                          }\n                          src={message.videoUrl}\n                        />\n                      </Link>\n                    </div>\n                  ) : null}\n\n                  {/*document message*/}\n                  {message.fileUrl === \"uploading\" ? (\n                    <div\n                      style={{\n                        width: clientWidth * widthRatio,\n                        height:\n                          message.ratio <= 1\n                            ? clientWidth * widthRatio > 300\n                              ? 300 * message.ratio\n                              : clientWidth * widthRatio * message.ratio\n                            : clientWidth * widthRatio < 300\n                            ? clientWidth * widthRatio\n                            : 300,\n                      }}\n                      className=\"image-container\"\n                    >\n                      <div className=\"image__container--loader\">\n                        <CircularProgress\n                          style={{\n                            width: page.width <= 760 ? 40 : 80,\n                            height: page.width <= 760 ? 40 : 80,\n                          }}\n                        />\n                      </div>\n                    </div>\n                  ) : message.fileUrl ? (\n                    <div\n                      className=\"image-container\"\n                      style={{\n                        width: clientWidth * widthRatio,\n                        height:\n                          message.ratio <= 1\n                            ? clientWidth * widthRatio > 300\n                              ? 300 * message.ratio\n                              : clientWidth * widthRatio * message.ratio\n                            : clientWidth * widthRatio < 300\n                            ? clientWidth * widthRatio\n                            : 300,\n                      }}\n                    >\n                      <a href={message.fileUrl} target=\"_blank\">\n                        {\" \"}\n                        Click for preview\n                        <svg\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          width=\"100%\"\n                          height=\"50%\"\n                          fill=\"currentColor\"\n                          class=\"bi bi-file-earmark-text-fill\"\n                          viewBox=\"0 0 16 16\"\n                        >\n                          <path d=\"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zM4.5 9a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0 1h-7zM4 10.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 1 0-1h4a.5.5 0 0 1 0 1h-4z\" />\n                        </svg>\n                        {message.fileName}\n                      </a>\n                    </div>\n                  ) : null}\n\n                  {/*audio and text message*/}\n                  {message.audioName ? (\n                    <div>\n                      <AudioPlayer\n                        sender={message.uid === user.uid}\n                        roomID={roomID}\n                        animState={animState}\n                        setAudioID={setAudioID}\n                        audioID={audioID}\n                        id={message.id}\n                        audioUrl={message.audioUrl}\n                        audioPlayed={message.audioPlayed}\n                      />\n                    </div>\n                  ) : (\n                    <span className=\"chat__message--message\">\n                      {message.message}\n                    </span>\n                  )}\n                  <span className=\"chat__timestamp\">{message.timestamp}</span>\n                </div>\n              );\n            })}\n            {messages.length > 0 ? (\n              <CSSTransition\n                in={seen && messages[messages.length - 1].uid === user.uid}\n                timeout={200}\n                classNames=\"seen-animate\"\n                appear={true}\n              >\n                <p className=\"seen\">\n                  <p>\n                    <span>\n                      Seen <DoneAllRounded />\n                    </span>\n                  </p>\n                </p>\n              </CSSTransition>\n            ) : null}\n          </div>\n        </div>\n        {imgSrc !== \"\" ? (\n          <ImgPreview\n            closeImage={closeImage}\n            mediaPreview={mediaPreview}\n            setImgSRC={setImgSRC}\n            setImage={setImage}\n            imageSRC={imgSrc}\n          />\n        ) : null}\n        {videoSrc !== \"\" ? (\n          <VidPreview\n            closeVideo={closeVideo}\n            mediaPreview={mediaPreview}\n            setVideoSRC={setVideoSRC}\n            setVideo={setVideo}\n            videoSRC={videoSrc}\n          />\n        ) : null}\n        {fileSrc !== \"\" ? (\n          <DocPreview\n            closeFile={closeFile}\n            mediaPreview={mediaPreview}\n            setFileSRC={setFileSRC}\n            setFile={setFile}\n            fileSRC={fileSrc}\n          />\n        ) : null}\n\n        <ChatFooter\n          input={input}\n          handleFocus={handleFocus}\n          change={change}\n          setInput={setInput}\n          sendMessage={sendMessage}\n          setFocus={setFocus}\n          image={image}\n          video={video}\n          file={file}\n          focus={focus}\n          state={state}\n          token={token}\n          roomID={roomID}\n          setAudioID={setAudioID}\n          handleImg={handleImg}\n          handleVideo={handleVideo}\n          handleFile={handleFile}\n        />\n        <div></div>\n\n        <CSSTransition\n          in={firstRender && scrollArrow && !sendAnim}\n          classNames=\"scroll\"\n          timeout={310}\n          unmountOnExit\n        >\n          <div\n            className=\"scroll\"\n            onClick={() =>\n              anime({\n                targets: chatBodyContainer.current,\n                scrollTop: chatBodyContainer.current.scrollHeight,\n                duration: 1000,\n                easing: \"linear\",\n              })\n            }\n          >\n            <ArrowDownward\n              style={{\n                width: 22,\n                height: 22,\n                color: \"black\",\n              }}\n            />\n            {unreadMessages ? (\n              <div>\n                <span>{unreadMessages}</span>\n              </div>\n            ) : null}\n          </div>\n        </CSSTransition>\n        {deletingRoom ? (\n          <div className=\"chat__deleting\">\n            <CircularProgress />\n          </div>\n        ) : null}\n      </div>\n      <TransitionGroup component={null}>\n        <Transition\n          timeout={{\n            appear: 310,\n            enter: 310,\n            exit: 410,\n          }}\n          classNames=\"page\"\n          key={location.pathname}\n        >\n          {(animState) => (\n            <Route path={match.url + \"/image\"} location={location}>\n              <ImagePreview imagePreview={imagePreview} animState={animState} />\n            </Route>\n          )}\n        </Transition>\n      </TransitionGroup>\n\n      <TransitionGroup component={null}>\n        <Transition\n          timeout={{\n            appear: 310,\n            enter: 310,\n            exit: 410,\n          }}\n          classNames=\"page\"\n          key={location.pathname}\n        >\n          {(animState) => (\n            <Route path={match.url + \"/video\"} location={location}>\n              <VideoPreview videoPreview={videoPreview} animState={animState} />\n            </Route>\n          )}\n        </Transition>\n      </TransitionGroup>\n    </>\n  );\n}\n\nexport default memo(Chat);\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAmCAYAAADTGStiAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ7SURBVHgBxVeLkdMwEH3HXAGmghMVkA5QB9AB6YBQQZwKEipIOmCoIHTgowKbChwqCNqzNl7rZ9nO3L2ZN7Hl1X6kXWkD5EMb7g0rw9bwaknPZ/tN5yp7yJBZG24NleHF8Nnwj30mFIYfDVf2uTHcGZ4wEwpdJBRVbR0oMO5kbeecrY7JRlnBAdNRondYTZh3M1piPkqro8qdsLYTjliOAyYEwNEqLEeBfsmTWKFPjHuBE/QpJaTR16fLsUShb21ivpbCjxElVKu/nDGq2wZx0PcfgfHP6FYyCY37JRbjhAkRFwgff7+RBp9eEk/IgEZ8j65IL9lqZK6WwrGIaX83gfEGcVBevIcfMV0eX1zhmOF2xEgMF/SXB+NfSDBmWMNPMFK4g6+YodDdYi4+YYLhAn7NXux4zPAFC047jVcqp3d4Q1AZKPusMb+cSEfOkfmyjbTHdF82hh/Q71/syHxGHI3hd/j7/NUZO/N7a8neyPd7oEYXMdf3Tb97bfG7xnKsMUxWBXHtlhh2CXz0jV2DY1Dwm4q1fX85FblLaNEvx2ahcYVw3+Y6cot6L4RKDFvbXJBsGzC6RaBrLYQ38tjTYpx+N3ascOZqO0/KaiHzTYx7vbmKGOcoOOlSPMNfnS0ytk0aPwYE5cqU6NvXCn4kSjhbITNXSvRRkANafGPDrPxWHhbazrkKB8f++ngenzDsMn+iTxxp2P1Gvwcs7M3J27V1ohKOSMNs/Ii8P3ezMLbUWXhMfOMyKQLjLhT8bOZLpcEE0EGSuuLkpVIjXWL7KUZpAiWLRheNy1DpuFxZHVwZAzwEFNT2eYf7gE4t7uH+xoTGmvK5bOGU1n+bCSPE8qMcxgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAoCAYAAACIC2hQAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ9SURBVHgB3Zg9b9NAGMf/57yIpSUMBba6AzNm7OaPkIGd8AnSiA2JxqDuhB2pzsJI+w0SkFAmaPgAKC4jQopVJFQlqa/3ND7lGiVpznbstD/pkX3n53R/P/d+DBlR2jspFTdHVc65zRi3KEuYzzk75vyi+fdgt636M2TA1utvFsvnj8SrOc9HCHaH/wo1v/HMp7SBlAlFtrBAJCGiXCluDlsynbrQMJKl5by59XC/41yVQ4psvelUGDMOoYc/OCvuTEfUFkbh7gvjSdvwd1dXJFEqbJyX80pGXZiDFVJ49ASR4MySQiuYiDwW1hTmI2HYvY0WIsByxn0ptBo+XWEvsTK4J6o1oQu/OJV91AqfH7BS+BdEIAjQJqGmktfHChEVutDHo1Uq1XmUKuRB0NQpEwTBVVfMQw8bMfE/7zcePD94ikl3mwvjvCbXfJrwTWG98Bu9ny4oyxEfipA7XnGM+iyHgfdD2Pe3/79+dGSebkQT48+7Xeex03GHI8PKGYHFWW6bB6OfZ59eVQe/OqZw8abLUKZcPbaRPTTXkpaKmpn6piQquk3vID608nWhia7QOuLjIQWhLuLjIQK6Qle4D1jMnR1MPcSnhvGA0kJXqIn4LHleuk4WfbSNCGQx6iNxawYTCfWU9A6yxwyfM89sciNwhGypYrJBMtUP8gLCxlgsMX0K7WLxiVRecMWBytNm2gnTLhYMXHKadXFgz/E3MWmJJO0ES/w4RYeav3+D0BdI9jalH/60gwj0ZgilPz1UKughgXNUXKaF2koeWQPx+2YiSFFlYe9xvZnKWCPU6EmjfmRizVCFUhT3sKZIoWsZRRUS6uAWcOOVS5pcAut9A+WJovmoAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAU4SURBVHgB3ZpNbBtFFMefN47bQCK5jRBJ+HIRUeHS1kJCRPkghlskCghx4UKaQy9VPnprcklzIIJT4hw4cEiCuCVCMpeckGyUL1WIxBUHQJHKio8kCKkExWDq2AnvP+wG1/Z6Z2a9Le1Psne93vXOf+e9mffeOEA1Yn19PXJwcNBrGMZ5/tjLr/DR0VE4EAiEi04zrVeaj9/M5XKpWCxmUg0IkAeSyWQ4FAoNc4P7+WOE9DD5leCHEPciSkvI8vJyLz/Rcfr3ydeSeRY0oSNISQj3QCQYDE6xiDfJX5QFSQtZW1sbLhQK10ts3k9MvtdEZ2fnvMzJUkJWVlameDNC94fprq6uq24nVRUCZ66vr0/y7gW6v6TZ1NjSYntOJzgK+R+JsKkqJuh0lVcRm5ubNDs7K7agu7ubhoaGqLW1lTS5YLUpWunLij3i1SeWlpZocnKy7HhjYyPNzc15EQMq+oxRemB1dbWfPDo2eqISmUyGZmZmyCMj/KDL2neXaWGe4Fl6nDywtbVFTU1N1NPTQy0tLWIf7O/vCzODmBowzm1NFM8zd5kWK53jTT89APAck+A55q3jz/YOeoOd6QeqAXj66XRa9M7Ozo7oFfROe3s7RaNR+rsQoJXfTtCtTJC2s3Xi86nQIT3bmKfOx+5QW0NB6j5sPTEeRFLYPzYtFuHJpGwBi4uLtLCw4GhCZ7sv0lPvvi8aX8zvOYO+vh0SL4h5/Yms6/2seC8l9vFWi96A/Y+Ojlb1geZzr9ILl+Wc/cXTOXrn6b9cz+O55RTmFjFqcSDoaZTCcDs4OFhVxInTbXTm7WskC3pmlc3PDbvtQgh30RukCXyg0pxRSvO51+hkcxup8MXuyTITLIUTuffEFmZF+kmR6AkZHn9Z/VllWQQGg2qww0c2NjaeMTjD6yVNOMGi3d1dqXMfffJ50mHHRQjIZrMx4/DwUDueghC/yRbcMw1oMNg/zpMmmCdkyWf3SYeGuiPXc1jDK3D2CGmiIuTPn78jHc7wJOkGslZPQlT4cekjUgUzvcwsj7KTQZqoBn9/bH0lXirITIgW904I+PbjIWkTgwjEX7JAyB5pgLhKFTj8N/FLtJ381PEcmNPl5zIiRFEBQSOEKJd4dPMKiLn12Yf0C4sJt7/E88tZCj7SRJmfvqcPrl0RQlRhZzdtIcrIToRO3Lm9Tb/eSBDd+O9Yw5WLnA+rp8Hs7KbBb1+SBipDr9+/yRpuQkiaNPBDiG4vc+CYNrgMmiIN7DJPLdENebA8YVgJvKlyoV8xlmZxwoQGMY+weX2iciVSWb9Q/W1u++fYCiH5fH5a9kL0hh9mZVMt36+E3XYhxKqnptwuQjYYj8fJTyACyRruJcG8Xds6DlG4iybcrsINvM4fMmBElKlIYjHI3j8uB6E+xOXSBAtyXI1C9dCPYbcSqH+5MO9YabTKQnCAe7UqpYtpLTGY9oGyPNIqEE+RJjK2jaq8XRPWgWOrS6VLchUTYh6ZpvnkYdIAtu02hI6NjVFfXx/pwKYfZzcoq8NVzEesE7VCl4GBAVHjrfa9rgi0qZII4LhiBRvUWbWyF3NQfUQdGIMDjkEcREg4sRNi6c3py4d/MbQYLz7jFSefKEUqZ8cPYaQgxeDSCywAT/+qjAggXXzAcIfu5aqeUoCpA4tIcAwV5UVP6RhQ6081mDjr6uqu25XwGpJCqGSvQqng9W9O+JPNiLUsESE9TKQRiGKrObMbnoQUA1Go7KOgbNWTI1QkDjbPx9HQPdQJkGLziJjq6OgwqQb8AzROc6/sJttjAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEdSURBVHgBxZfbjcIwEEXv7jZABztUgEvIJ2WkBDqADoAOoBLoADoAKoBP+Aq+CpaMw2OU2M6RrgTC6EzsGWQAYGpztqneZI5EVIr8IzK/6AmKL4p1Q0RGKxZEhuK9Yp1BZCg+KdaNEBmKj4p1hc0AkRHoRkqQgPMX6QyJWPQhJUUfUscup9T/yVwHn22RCY6L32QHJBghx5/3+mpzsxl7hfD9FpnY4PmsC2TCBGJuuSATk0DOjk923iGrDnJBh0IHaM62Ztun3nr2C+9sJepeMVAemzxkodwopJ+iukAKmk9ePSRtpC4quO2rF1/m05ctpGqxY9ZCEEVMBM1zzyJ2lB0L6EzZsoBoFKgbUFXED9JgvPBqLKgng+EfiOUdr6vceWBeXT0AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADBSURBVHgB7ZaLDYIwEIZ/XUBHuBEcwRHcRDfQEXQCRtANHMER1AlkA7kLbcKz5XWQQL/kDwkp+ehxBwCBwNxYmSNxjpwtuhFzbpxPm4t2nB/n3zNvs4HGvAaQ2jw8LqloZG5yMKnddR1n5CurLt6b88W1amLiPB1rVcQHeBp2DR1kUpyjqSX2sjyxoNFchOoRGmWcpLmuU4gtp6nEAqFceufbpW0i1EOce1Y89mfxImuzPwLyLDboxhdpI8UIBBZLAojZJNrzCfbrAAAAAElFTkSuQmCC\"","import {memo} from 'react';\nimport { Button } from '@material-ui/core';\nimport { auth, provider, provider2 } from './firebase';\nimport './Login.css'\n\nfunction Login() {\n    const signIn = () => {\n        auth.signInWithRedirect(provider).catch(e => alert(e.message))\n    }\n    const signIn2 = () => {\n        auth.signInWithRedirect(provider2).catch(e => alert(e.message))\n    }\n\n    return (\n        <div className=\"login\">\n            <div className=\"login__container\">\n                <div className=\"login__text\">\n                    <h1>Sign-in to Cloud Health Chat</h1>\n                </div>\n\n                <Button onClick={signIn}>\n                    Sign in with Google\n                </Button>\n                <Button onClick={signIn2}>\n                    Sign in with facebook\n                </Button>\n            </div>\n        </div>\n    )\n}\n\nexport default memo(Login)","import React, { useState, useEffect, memo, useRef } from \"react\";\nimport Sidebar from \"./Sidebar\";\nimport Chat from \"./Chat\";\nimport Login from \"./Login\";\nimport setOnlineStatus from \"./setOnlineStatus\";\nimport { Route, useLocation, Redirect } from \"react-router-dom\";\nimport { useStateValue } from \"./StateProvider\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport db, {\n  loadFirebase,\n  auth,\n  provider,\n  provider2,\n  createTimestamp,\n  messaging,\n} from \"./firebase\";\nimport {\n  TransitionGroup,\n  Transition,\n  CSSTransition,\n} from \"react-transition-group\";\nimport \"./App.css\";\nimport useRoomsData from \"./useRoomsData\";\nimport scalePage from \"./scalePage\";\n\n//notification configuration: Subscribes the messaging instance to push notifications.\n//Returns an FCM registration token that can be used to send push messages to that messaging instance.\n//If a notification permission isn't already granted, this method asks the user for permission.\n//The returned promise rejects if the user does not allow the app to show notifications.\n//if permission is granted, we save a token for this specific user\nconst configureNotif = (docID) => {\n  messaging\n\n    .requestPermission()\n    .then(() => {\n      //console.log('permission granted');\n      return messaging.getToken();\n    })\n    .then((token) => {\n      //console.log(token);\n      db.collection(\"users\").doc(docID).set(\n        {\n          token: token,\n        },\n        { merge: true }\n      );\n    })\n    .catch((e) => {\n      //console.log(e.message);\n      db.collection(\"users\").doc(docID).set(\n        {\n          token: \"\",\n        },\n        { merge: true }\n      );\n    });\n  messaging.onMessage((payload) => {\n    //console.log(payload.data);\n  });\n};\n\nfunction App() {\n  //initialize states\n  const [{ user, path, pathID, roomsData, page }, dispatch, actionTypes] =\n    useStateValue();\n  const [loader, setLoader] = useState(true);\n  const [pwaEvent, setPwaEvent] = useState(undefined);\n  const [firebaseLoaded, setFirebaseLoaded] = useState(false);\n  //initial state for version update\n  const [updating, setUpdating] = useState(false);\n  const [checkingVersion, setCheckingVersion] = useState(true);\n  const [chats, setChats] = useState(null);\n  const [chatsFetched, setChatsFetched] = useState();\n  const location = useLocation();\n  const [setRoomsData] = useRoomsData();\n  const b = useRef([]);\n  const menus = [\"/rooms\", \"/search\", \"/users\", \"/chats\"];\n\n  useEffect(() => {\n    function r() {\n      //Adds an observer for changes to the user's sign-in state. The observer is only triggered on sign-in or sign-out.\n      auth.onAuthStateChanged((authUser) => {\n        //console.log(\"user change: \", authUser)\n        //if user signed-in\n        if (authUser) {\n          //configure notif' if the current sign-in user's browser supports notif'\n          if (\"serviceWorker\" in navigator && \"PushManager\" in window) {\n            //console.log(\"This browser supports notifications and service workers\")\n            configureNotif(authUser.uid);\n          } else {\n            //console.log(\"This browser does not support notifications and service workers\")\n          }\n          //console.log(authUser);\n          //check the concordance between the version store in database and the version store in LocalStorage.\n          //If they do not match, update the version in the LocalStorage and disconnect the user then, redirect to the login page. \n          db.collection(\"version\")\n            .doc(\"version\")\n            .get()\n            .then((doc) => {\n              const version = doc.data().version;\n              const previousVersion = localStorage.getItem(\"version\");\n              if (previousVersion) {\n                //console.log(\"previous version exists in local storage\")\n                if (version !== +previousVersion) {\n                  //console.log(\"new version is not equal to previous version\")\n                  localStorage.setItem(\"version\", version);\n                  setUpdating(true);\n                  auth.signOut();\n                  auth\n                    .signInWithRedirect(provider,provider2)\n                    .catch((e) => alert(e.message));\n                } else {\n                  setCheckingVersion(false);\n                }\n              } else {\n                //console.log(\"previous version doesn't exists in local storage\")\n                localStorage.setItem(\"version\", version);\n                setCheckingVersion(false);\n              }\n            })\n            .then(() => {\n              //console.log(\"checking version has finished\");\n              //update state with data of the current sign-in user \n              dispatch({ type: actionTypes.SET_USER, user: authUser });\n              //update database with data of the current sign-in user\n              const ref = db.collection(\"users\").doc(authUser.uid);\n              ref\n                .get()\n                .then((doc) => {\n                  const data = doc.data();\n                  if (data) {\n                    if (data.timestamp) {\n                      //console.log(\"updating user\")\n                      return ref.set(\n                        {\n                          name: authUser.displayName,\n                          photoURL: authUser.photoURL,\n                        },\n                        { merge: true }\n                      );\n                    }\n                  }\n                  //console.log(\"setting user\")\n                  return ref.set(\n                    {\n                      name: authUser.displayName,\n                      photoURL: authUser.photoURL,\n                      timestamp: createTimestamp(),\n                    },\n                    { merge: true }\n                  );\n                })\n                .then(() => (loader ? setLoader(false) : null));\n            });\n        } else {\n          // if user has not logged-in update the state with no user\n          dispatch({ type: actionTypes.SET_USER, user: null });\n          //console.log(user);\n          if (loader) setLoader(false);\n          db.collection(\"version\")\n            .doc(\"version\")\n            .get()\n            .then((doc) => {\n              const version = doc.data().version;\n              const previousVersion = localStorage.getItem(\"version\");\n              if (previousVersion) {\n                //console.log(\"previous version exists in local storage\")\n                if (version !== +previousVersion) {\n                  //console.log(\"new version is not equal to previous version\")\n                  localStorage.setItem(\"version\", version);\n                  if (user) {\n                    auth\n                      .signInWithRedirect(provider, provider2)\n                      .catch((e) => alert(e.message));\n                  } else {\n                    setCheckingVersion(false);\n                  }\n                } else {\n                  setCheckingVersion(false);\n                }\n              } else {\n                //console.log(\"previous version doesn't exists in local storage\")\n                localStorage.setItem(\"version\", version);\n                setCheckingVersion(false);\n              }\n            });\n        }//end non signed-in user\n      });\n    }\n    //set firebase loaded to \"true\"\n    loadFirebase(setFirebaseLoaded);\n    if (firebaseLoaded) r();\n  }, [user, firebaseLoaded]);\n\n  useEffect(() => {\n    //add event listener for Progressive Web App\n    window.addEventListener(\"beforeinstallprompt\", (e) => {\n      // Prevent the mini-infobar from appearing on mobile\n      //console.log(\"pwa event executed\");\n      e.preventDefault();\n      // Stash the event so it can be triggered later.\n      setPwaEvent(e);\n      // Update UI notify the user they can install the PWA\n    });\n    //add event listener for page resize\n    window.addEventListener(\"resize\", () => {\n      dispatch({ type: \"set_scale_page\", page: scalePage() });\n    });\n  }, []);\n\n  //get messages save in database or in cache (in case of internet disconnection) in every room for the current signed-in user \n  useEffect(() => {\n    if (user && !checkingVersion) {\n      /////in database\n      db.collection(\"users\")\n        .doc(user.uid)\n        .collection(\"chats\")\n        .orderBy(\"timestamp\", \"desc\")\n        .onSnapshot({ includeMetadataChanges: true }, (snap) => {\n          if (snap.docs?.length > 0) {\n            snap.docChanges().forEach((change) => {\n              if (change.type === \"added\") {\n                setRoomsData(change.doc.data().userID, change.doc.id);\n              }\n            });\n            //if user is disconnected and we have cached messages display them\n            if (\n              !snap.metadata.fromCache ||\n              (!window.navigator.onLine && snap.metadata.fromCache)\n            ) {\n              setChats(\n                snap.docs.map((cur) => ({\n                  ...cur.data(),\n                  id: cur.id,\n                }))\n              );\n            }\n          } else {\n            setChats([]);\n          }\n        });\n    }\n  }, [user, checkingVersion]);\n\n  //if chats fetched, set them then, display them by desc\n  useEffect(() => {\n    if (chats?.length > 0) {\n      if (chats.every((cur) => roomsData[cur.id]?.lastMessage)) {\n        setChatsFetched(true);\n      }\n    } else if (chats?.length === 0) {\n      setChatsFetched(true);\n    }\n  }, [chats, roomsData]);\n\n  //set the user status (online or offline)\n  useEffect(() => {\n    var s;\n    if (user && !checkingVersion) {\n      setOnlineStatus(user.uid);\n    }\n    return () => {\n      if (s) {\n        s();\n      }\n    };\n  }, [user, checkingVersion]);\n\n  //chats location path name\n  useEffect(() => {\n    var id = location.pathname.replace(\"/room/\", \"\");\n    menus.forEach((cur) => (id = id.replace(cur, \"\")));\n    dispatch({ type: \"set_path_id\", id });\n  }, [location.pathname]);\n\n  //our return statement\n  return (\n    <div className=\"app\" style={{ ...page }}>\n    {/*redirect to chats page on screen width smaller than 760*/}\n      {page.width <= 760 ? <Redirect to=\"/chats\" /> : <Redirect to=\"/\" />}\n      {/*display loader while checking for app's version*/}\n      {(loader && chats === null) || checkingVersion ? (\n        <div className=\"loader__container\">\n          <CircularProgress />\n        </div>\n        //if the version is verified, updated and the user is not logged-in redirect to Login page \n      ) : !user && !checkingVersion && !updating ? (\n        <Login />\n        //after Login and chats fetched display the whole app\n      ) : !checkingVersion && !updating && chatsFetched ? (\n        <div className=\"app__body\">\n          <Sidebar chats={chats} pwa={pwaEvent} />\n          <TransitionGroup component={null}>\n            {page.width <= 760 ? (\n              <Transition\n                key={location.pathname.replace(\"/image\", \"\")}\n                timeout={260}\n              >\n                {(state) => (\n                  <Route location={location} path={`${path}/room/:roomID`}>\n                    <Chat\n                      b={b}\n                      unreadMessages={\n                        chats?.length > 0\n                          ? chats.find((cur) => cur.id === pathID)\n                              ?.unreadMessages\n                          : 0\n                      }\n                      animState={state}\n                    />\n                  </Route>\n                )}\n              </Transition>\n            ) : (\n              <CSSTransition\n                key={location.pathname.replace(\"/image\", \"\")}\n                timeout={1010}\n                classNames=\"page\"\n              >\n                {(state) => (\n                  <Route location={location} path={`${path}/room/:roomID`}>\n                    <Chat\n                      b={b}\n                      unreadMessages={\n                        chats?.length > 0\n                          ? chats.find((cur) => cur.id === pathID)\n                              ?.unreadMessages\n                          : 0\n                      }\n                      animState={state}\n                    />\n                  </Route>\n                )}\n              </CSSTransition>\n            )}\n          </TransitionGroup>\n        </div>\n      ) : (\n        <div className=\"loader__container\">\n          <CircularProgress />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default memo(App);\n","import db, { createTimestamp, createTimestamp2, db2 } from \"./firebase\";\n\nexport default function setOnlineStatus (uid) {\n\ttry {\n\t\t// create two constants for database state.\n\t\tconst isOfflineForDatabase = {\n\t\t    state: 'offline',\n\t\t    last_changed: createTimestamp2,\n\t\t    id: uid,\n\t\t};\n\n\t\tconst isOnlineForDatabase = {\n\t\t    state: 'online',\n\t\t    last_changed: createTimestamp2,\n\t\t    id: uid\n\t\t};\n\t\tconst userStatusFirestoreRef = db.doc('/users/' + uid);\n\t\tconst userStatusDatabaseRef = db2.ref('/status/' + uid);\n\n\t\t// Firestore uses a different server timestamp value, so we'll \n\t\t// create two more constants for Firestore state.\n\t\tconst isOfflineForFirestore = {\n\t\t    state: 'offline',\n\t\t    last_changed: createTimestamp(),\n\t\t};\n\n\t\tconst isOnlineForFirestore = {\n\t\t    state: 'online',\n\t\t    last_changed: createTimestamp(),\n\t\t};\n\n\t\tdb2.ref('.info/connected').on('value', function(snapshot) {\n\t\t    if (snapshot.val() === false) {\n\t\t        // Instead of simply returning, we'll also set Firestore's state\n\t\t        // to 'offline'. This ensures that our Firestore cache is aware\n\t\t        // of the switch to 'offline.'\n\t\t        userStatusFirestoreRef.set(isOfflineForFirestore,{merge: true});\n\t\t        return;\n\t\t    };\n\n\t\t    userStatusDatabaseRef.onDisconnect().set(isOfflineForDatabase).then(function() {\n\t\t        userStatusDatabaseRef.set(isOnlineForDatabase);\n\n\t\t        // We'll also add Firestore set here for when we come online.\n\t\t        userStatusFirestoreRef.set(isOnlineForFirestore, {merge: true});\n\t\t    });\n\t\t});\n\t} catch(error) {\n\t\tconsole.log(\"error setting online status: \", error);\n\t}\n};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport { StateProvider } from './StateProvider';\nimport reducer, { initialState } from \"./reducer\"\nimport { BrowserRouter as Router } from \"react-router-dom\"\n\n//The MediaDevices.getUserMedia() method prompts the user to allow the use of a media input like Microphone\nif (navigator.mediaDevices === undefined) {\n  navigator.mediaDevices = {};\n}\nif (navigator.mediaDevices.getUserMedia === undefined) {\n  navigator.mediaDevices.getUserMedia = function(constraints) {\n    var getUserMedia = navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\n    if (!getUserMedia) {\n      return Promise.reject(new Error('getUserMedia is not implemented in this browser'));\n    }\n    return new Promise(function(resolve, reject) {\n      getUserMedia.call(navigator, constraints, resolve, reject);\n    });\n  }\n}\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <StateProvider initialState={initialState} reducer={reducer}>\n        <App />\n      </StateProvider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();\n"],"sourceRoot":""}